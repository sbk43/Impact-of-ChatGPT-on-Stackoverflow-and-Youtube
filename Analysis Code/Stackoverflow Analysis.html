<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>cab7c84bab3044f382f55377fd462393</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="cell markdown" id="xqkcbk3CYXbC">
<p>This python notebook is developed for analysing the impact of ChatGPT
on Stackoverflow engagement - questions and answers</p>
</div>
<div class="cell markdown" id="riSiCdSwa3c7">
<p>Import required main dependencies</p>
</div>
<div class="cell code" data-execution_count="43" id="njd-ON2L9EgC">
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.formula.api <span class="im">import</span> ols</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.feature_extraction.text <span class="im">import</span> TfidfVectorizer</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics.pairwise <span class="im">import</span> cosine_similarity</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> nltk</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nltk.corpus <span class="im">import</span> stopwords</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> string</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.decomposition <span class="im">import</span> TruncatedSVD</span></code></pre></div>
</div>
<div class="cell markdown" id="skPGxpPXa_3T">
<p>Data Load and exploration</p>
</div>
<div class="cell code" data-execution_count="44" id="4gbfUXub9M9e">
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">&#39;stackoverflow.csv&#39;</span>, usecols<span class="op">=</span><span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">26</span>))</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="45"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="pYaApzrhZSmv" data-outputId="0eba48ab-9e7d-4b80-a81c-cc9d966ce794">
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># shape of the data</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>df.shape</span></code></pre></div>
<div class="output execute_result" data-execution_count="45">
<pre><code>(580466, 25)</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="46"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="nHjhfDPbZWdJ" data-outputId="3f47e14d-1702-4333-9c36-dbf7e3ea2a82">
<div class="sourceCode" id="cb5"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># column names and datatype</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>df.info()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 580466 entries, 0 to 580465
Data columns (total 25 columns):
 #   Column                 Non-Null Count   Dtype  
---  ------                 --------------   -----  
 0   tags                   580466 non-null  object 
 1   owner                  580466 non-null  object 
 2   is_answered            580466 non-null  bool   
 3   view_count             580466 non-null  int64  
 4   answer_count           580466 non-null  int64  
 5   score                  580466 non-null  int64  
 6   last_activity_date     580466 non-null  int64  
 7   creation_date          580466 non-null  float64
 8   question_id            580466 non-null  int64  
 9   content_license        545890 non-null  object 
 10  link                   580466 non-null  object 
 11  title                  580466 non-null  object 
 12  accepted_answer_id     218130 non-null  float64
 13  last_edit_date         307475 non-null  float64
 14  closed_date            34764 non-null   float64
 15  closed_reason          34764 non-null   object 
 16  migrated_from          170 non-null     object 
 17  bounty_amount          0 non-null       float64
 18  bounty_closes_date     0 non-null       float64
 19  locked_date            0 non-null       float64
 20  posted_by_collectives  0 non-null       float64
 21  protected_date         0 non-null       float64
 22  community_owned_date   0 non-null       float64
 23  new_data               580466 non-null  object 
 24  final_date             580466 non-null  object 
dtypes: bool(1), float64(10), int64(5), object(9)
memory usage: 106.8+ MB
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="47"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:516}"
id="ILkco77x-6ls" data-outputId="3e697b52-8d2e-47a4-82b9-86917ee76bca">
<div class="sourceCode" id="cb7"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sample data</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="47">

  <div id="df-ac1e1815-5c7e-4215-9850-5768156f8769" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>tags</th>
      <th>owner</th>
      <th>is_answered</th>
      <th>view_count</th>
      <th>answer_count</th>
      <th>score</th>
      <th>last_activity_date</th>
      <th>creation_date</th>
      <th>question_id</th>
      <th>content_license</th>
      <th>...</th>
      <th>closed_reason</th>
      <th>migrated_from</th>
      <th>bounty_amount</th>
      <th>bounty_closes_date</th>
      <th>locked_date</th>
      <th>posted_by_collectives</th>
      <th>protected_date</th>
      <th>community_owned_date</th>
      <th>new_data</th>
      <th>final_date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>['python', 'instagram', 'instagrapi']</td>
      <td>{'account_id': 29754614, 'reputation': 1, 'use...</td>
      <td>False</td>
      <td>36</td>
      <td>0</td>
      <td>0</td>
      <td>1711929003</td>
      <td>1.711929e+09</td>
      <td>78253160</td>
      <td>CC BY-SA 4.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2024-03-31 23:50:03</td>
      <td>2024-03-31</td>
    </tr>
    <tr>
      <th>1</th>
      <td>['python', 'mysql', 'tkinter', 'customtkinter']</td>
      <td>{'account_id': 30776658, 'reputation': 23, 'us...</td>
      <td>False</td>
      <td>83</td>
      <td>1</td>
      <td>0</td>
      <td>1711956288</td>
      <td>1.711929e+09</td>
      <td>78253151</td>
      <td>CC BY-SA 4.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2024-03-31 23:46:07</td>
      <td>2024-03-31</td>
    </tr>
    <tr>
      <th>2</th>
      <td>['python-3.x', 'sqlalchemy']</td>
      <td>{'account_id': 966924, 'reputation': 1487, 'us...</td>
      <td>False</td>
      <td>28</td>
      <td>0</td>
      <td>1</td>
      <td>1711928762</td>
      <td>1.711929e+09</td>
      <td>78253150</td>
      <td>CC BY-SA 4.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2024-03-31 23:46:02</td>
      <td>2024-03-31</td>
    </tr>
    <tr>
      <th>3</th>
      <td>['python', 'geopandas']</td>
      <td>{'account_id': 24127282, 'reputation': 3, 'use...</td>
      <td>False</td>
      <td>36</td>
      <td>1</td>
      <td>0</td>
      <td>1711937874</td>
      <td>1.711928e+09</td>
      <td>78253122</td>
      <td>CC BY-SA 4.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2024-03-31 23:28:31</td>
      <td>2024-03-31</td>
    </tr>
    <tr>
      <th>4</th>
      <td>['java', 'android']</td>
      <td>{'account_id': 103637, 'reputation': 10294, 'u...</td>
      <td>True</td>
      <td>40</td>
      <td>1</td>
      <td>0</td>
      <td>1711958224</td>
      <td>1.711927e+09</td>
      <td>78253111</td>
      <td>CC BY-SA 4.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2024-03-31 23:21:44</td>
      <td>2024-03-31</td>
    </tr>
  </tbody>
</table>
<p>5 rows Ã— 25 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-ac1e1815-5c7e-4215-9850-5768156f8769')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-ac1e1815-5c7e-4215-9850-5768156f8769 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-ac1e1815-5c7e-4215-9850-5768156f8769');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-79792848-c7a9-409b-a354-a04c88458ab2">
  <button class="colab-df-quickchart" onclick="quickchart('df-79792848-c7a9-409b-a354-a04c88458ab2')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-79792848-c7a9-409b-a354-a04c88458ab2 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>

</div>
</div>
<div class="cell markdown" id="UwYFzJiVbCn8">
<p>Remove Duplicates</p>
</div>
<div class="cell code" data-execution_count="48" id="g1c5YCDoax3T">
<div class="sourceCode" id="cb8"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>df.drop_duplicates(inplace<span class="op">=</span><span class="va">True</span>)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="49"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="yyVf1uZ8bn5i" data-outputId="e03d2a1c-9a04-4ceb-f365-28a2fbcecbdf">
<div class="sourceCode" id="cb9"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;question_id&#39;</span>].value_counts()</span></code></pre></div>
<div class="output execute_result" data-execution_count="49">
<pre><code>question_id
76083052    2
74002514    2
76999084    2
77038197    2
78078945    2
           ..
75372989    1
75372995    1
75372996    1
75373002    1
69791482    1
Name: count, Length: 580328, dtype: int64</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="50" id="pezufCc1atRi">
<div class="sourceCode" id="cb11"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort DataFrame by content_license</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>df_sorted <span class="op">=</span> df.sort_values(by<span class="op">=</span><span class="st">&#39;content_license&#39;</span>, ascending<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove duplicates based on question_id, keeping the first occurrence and copy to df_unique dataframe</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>df_unique <span class="op">=</span> df_sorted.drop_duplicates(subset<span class="op">=</span><span class="st">&#39;question_id&#39;</span>, keep<span class="op">=</span><span class="st">&#39;first&#39;</span>)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="51"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="ik3RMprDchJJ" data-outputId="1560ee13-78e8-4d6a-be83-f9853e8fe20a">
<div class="sourceCode" id="cb12"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># change the data type of final_date to datetime</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>df_unique[<span class="st">&#39;final_date&#39;</span>] <span class="op">=</span> pd.to_datetime(df_unique[<span class="st">&#39;final_date&#39;</span>], <span class="bu">format</span><span class="op">=</span><span class="st">&#39;%Y-%m-</span><span class="sc">%d</span><span class="st">&#39;</span>)</span></code></pre></div>
<div class="output stream stderr">
<pre><code>&lt;ipython-input-51-9f3465401ab3&gt;:2: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_unique[&#39;final_date&#39;] = pd.to_datetime(df_unique[&#39;final_date&#39;], format=&#39;%Y-%m-%d&#39;)
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="52"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="rCDww0rSePbL" data-outputId="5cb89c1c-e55e-4320-f785-4c5e35c7f7d4">
<div class="sourceCode" id="cb14"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># check the datatypes and column names of df_unique dataframe which will be used for next steps</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>df_unique.info()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Index: 580328 entries, 0 to 580451
Data columns (total 25 columns):
 #   Column                 Non-Null Count   Dtype         
---  ------                 --------------   -----         
 0   tags                   580328 non-null  object        
 1   owner                  580328 non-null  object        
 2   is_answered            580328 non-null  bool          
 3   view_count             580328 non-null  int64         
 4   answer_count           580328 non-null  int64         
 5   score                  580328 non-null  int64         
 6   last_activity_date     580328 non-null  int64         
 7   creation_date          580328 non-null  float64       
 8   question_id            580328 non-null  int64         
 9   content_license        545761 non-null  object        
 10  link                   580328 non-null  object        
 11  title                  580328 non-null  object        
 12  accepted_answer_id     218094 non-null  float64       
 13  last_edit_date         307415 non-null  float64       
 14  closed_date            34755 non-null   float64       
 15  closed_reason          34755 non-null   object        
 16  migrated_from          170 non-null     object        
 17  bounty_amount          0 non-null       float64       
 18  bounty_closes_date     0 non-null       float64       
 19  locked_date            0 non-null       float64       
 20  posted_by_collectives  0 non-null       float64       
 21  protected_date         0 non-null       float64       
 22  community_owned_date   0 non-null       float64       
 23  new_data               580328 non-null  object        
 24  final_date             580328 non-null  datetime64[ns]
dtypes: bool(1), datetime64[ns](1), float64(10), int64(5), object(8)
memory usage: 111.2+ MB
</code></pre>
</div>
</div>
<section id="analysis" class="cell markdown" id="0StvEPnGgofq">
<h1>Analysis</h1>
</section>
<div class="cell markdown" id="w6lcbXY6griS">
<ul>
<li><p>This data has information on questions posted for tags python and
java.</p></li>
<li><p>Initially analysing the overall (considering python and java
questions) trend.</p></li>
</ul>
</div>
<div class="cell markdown" id="4GsXbFmdhkTU">
<p>Overall questions trend</p>
</div>
<div class="cell code" data-execution_count="53"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:607}"
id="_HLLKGBVe02_" data-outputId="28cb5b84-4bdf-494a-89f9-f37b27cbbcde">
<div class="sourceCode" id="cb16"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by month and year, and count the number of questions in each group</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>question_trend <span class="op">=</span> df_unique.groupby(df_unique[<span class="st">&#39;final_date&#39;</span>].dt.to_period(<span class="st">&#39;M&#39;</span>))[<span class="st">&#39;question_id&#39;</span>].nunique()</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the trend</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>question_trend.plot(kind<span class="op">=</span><span class="st">&#39;line&#39;</span>, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;-&#39;</span>, color<span class="op">=</span><span class="st">&#39;#4495a2&#39;</span>, label<span class="op">=</span><span class="st">&#39;_nolegend_&#39;</span>)  <span class="co"># Exclude from legend</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a vertical dotted line at Dec 1st 2022 with a specific HEX color and include it in the legend</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>plt.axvline(pd.Timestamp(<span class="st">&#39;2022-12-01&#39;</span>), color<span class="op">=</span><span class="st">&#39;#f9d448&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>, linewidth<span class="op">=</span><span class="dv">2</span>, label<span class="op">=</span><span class="st">&#39;Dec 1st 2022&#39;</span>)</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Set labels and title</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Month Year&#39;</span>)</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Number of Questions&#39;</span>)</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Number of Questions Trend&#39;</span>)</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Format x-axis tick labels</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust the grid</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>, which<span class="op">=</span><span class="st">&#39;major&#39;</span>, axis<span class="op">=</span><span class="st">&#39;y&#39;</span>, color<span class="op">=</span><span class="st">&#39;lightgrey&#39;</span>, alpha<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Show only the vertical line in the legend</span></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Use tight layout to ensure everything fits without overlap</span></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_393b23820fd44101a5486d2450aefd6c/832fe6c3e7e4082d2bf0927ff0aff51661bb97f4.png" /></p>
</div>
</div>
<div class="cell markdown" id="iHf3ihOOhnit">
<p>Overall average answers per question trend</p>
</div>
<div class="cell code" data-execution_count="54"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:607}"
id="R0ShMFncfacK" data-outputId="0abcdf59-17d6-46a4-b717-201200472e63">
<div class="sourceCode" id="cb17"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by month and year, and calculate the total answers and number of questions per month</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>monthly_data <span class="op">=</span> df_unique.groupby(df_unique[<span class="st">&#39;final_date&#39;</span>].dt.to_period(<span class="st">&#39;M&#39;</span>)).agg(</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    total_answers<span class="op">=</span>(<span class="st">&#39;answer_count&#39;</span>, <span class="st">&#39;sum&#39;</span>),</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    num_questions<span class="op">=</span>(<span class="st">&#39;question_id&#39;</span>, <span class="st">&#39;count&#39;</span>)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate average answers per question for each month</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>monthly_data[<span class="st">&#39;avg_answers_per_question&#39;</span>] <span class="op">=</span> monthly_data[<span class="st">&#39;total_answers&#39;</span>] <span class="op">/</span> monthly_data[<span class="st">&#39;num_questions&#39;</span>]</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the trend</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>monthly_data[<span class="st">&#39;avg_answers_per_question&#39;</span>].plot(kind<span class="op">=</span><span class="st">&#39;line&#39;</span>, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;-&#39;</span>, color<span class="op">=</span><span class="st">&#39;#4495a2&#39;</span>, label<span class="op">=</span><span class="st">&#39;_nolegend_&#39;</span>)  <span class="co"># Adjust line color using HEX</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a vertical dotted line at Dec 1st 2022 with a specific HEX color and include it in the legend</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>plt.axvline(pd.Timestamp(<span class="st">&#39;2022-12-01&#39;</span>), color<span class="op">=</span><span class="st">&#39;#f9d448&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>, linewidth<span class="op">=</span><span class="dv">2</span>, label<span class="op">=</span><span class="st">&#39;Dec 1st 2022&#39;</span>)</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Set labels and title</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Month Year&#39;</span>)</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Average Number of Answers per Question&#39;</span>)</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Average Number of Answers per Question Trend&#39;</span>)</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Format x-axis tick labels</span></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust the grid</span></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>, which<span class="op">=</span><span class="st">&#39;major&#39;</span>, axis<span class="op">=</span><span class="st">&#39;y&#39;</span>, color<span class="op">=</span><span class="st">&#39;lightgrey&#39;</span>, alpha<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Show only the vertical line in the legend</span></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Use tight layout to ensure everything fits without overlap</span></span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_393b23820fd44101a5486d2450aefd6c/06ae15fb458bfa25167ff802b6807bb46d67fd27.png" /></p>
</div>
</div>
<div class="cell markdown" id="aOzuZcTghrNN">
<p>Overall questions with zero answers</p>
</div>
<div class="cell code" data-execution_count="55"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:607}"
id="EHuxlLsKj2e0" data-outputId="90fd7d88-7d41-4b6e-d102-d954cab771f0">
<div class="sourceCode" id="cb18"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter rows where answer_count is 0</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>questions_with_zero_answers <span class="op">=</span> df_unique[df_unique[<span class="st">&#39;answer_count&#39;</span>] <span class="op">==</span> <span class="dv">0</span>]</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by month and year, and count the number of questions for each group</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>zero_answer_trend <span class="op">=</span> questions_with_zero_answers.groupby(questions_with_zero_answers[<span class="st">&#39;final_date&#39;</span>].dt.to_period(<span class="st">&#39;M&#39;</span>)).size()</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the trend</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>zero_answer_trend.plot(kind<span class="op">=</span><span class="st">&#39;line&#39;</span>, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>, figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Set labels and title</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Month Year&#39;</span>)</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Number of Questions with 0 Answers&#39;</span>)</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Number of Questions with 0 Answers Trend&#39;</span>)</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Format x-axis tick labels</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Show plot without grid lines</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">False</span>)</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Show plot</span></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_393b23820fd44101a5486d2450aefd6c/cdaa8575f7ffad2c40293db25b66b5df5edb2ad7.png" /></p>
</div>
</div>
<div class="cell markdown" id="oYjE-XMmhv8P">
<p>Overall unanswered questions percentage</p>
</div>
<div class="cell code" data-execution_count="56"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:607}"
id="fw1YYbeyaO3O" data-outputId="c6696ad6-9994-43e6-b692-714765d50efc">
<div class="sourceCode" id="cb19"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by month and calculate total questions and unanswered questions</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>monthly_data <span class="op">=</span> df_unique.groupby(df_unique[<span class="st">&#39;final_date&#39;</span>].dt.to_period(<span class="st">&#39;M&#39;</span>)).agg(</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    total_questions<span class="op">=</span>(<span class="st">&#39;question_id&#39;</span>, <span class="st">&#39;count&#39;</span>),</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    unanswered_questions<span class="op">=</span>(<span class="st">&#39;answer_count&#39;</span>, <span class="kw">lambda</span> x: (x <span class="op">==</span> <span class="dv">0</span>).<span class="bu">sum</span>())</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the percentage of unanswered questions</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>monthly_data[<span class="st">&#39;percentage_unanswered&#39;</span>] <span class="op">=</span> (monthly_data[<span class="st">&#39;unanswered_questions&#39;</span>] <span class="op">/</span> monthly_data[<span class="st">&#39;total_questions&#39;</span>]) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting the trend of percentage of unanswered questions</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>monthly_data[<span class="st">&#39;percentage_unanswered&#39;</span>].plot(kind<span class="op">=</span><span class="st">&#39;line&#39;</span>, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;-&#39;</span>, color<span class="op">=</span><span class="st">&#39;#4495a2&#39;</span>, label<span class="op">=</span><span class="st">&#39;_nolegend_&#39;</span>)  <span class="co"># Adjust line color</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a vertical dotted line at Dec 1st 2022 with a specific HEX color and include it in the legend</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>plt.axvline(pd.Timestamp(<span class="st">&#39;2022-12-01&#39;</span>), color<span class="op">=</span><span class="st">&#39;#f9d448&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>, linewidth<span class="op">=</span><span class="dv">2</span>, label<span class="op">=</span><span class="st">&#39;Dec 1st 2022&#39;</span>)</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Set labels and title</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Trend of Percentage of Unanswered Questions&#39;</span>)</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Month Year&#39;</span>)</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Percentage of Unanswered Questions (%)&#39;</span>)</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust the grid</span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>, alpha<span class="op">=</span><span class="fl">0.7</span>)  <span class="co"># Adding grid for better readability</span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Show only the vertical line in the legend</span></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Use tight layout to ensure everything fits without overlap</span></span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_393b23820fd44101a5486d2450aefd6c/143b748a36a2fb29fa4b10223ccb03ef0b1f780f.png" /></p>
</div>
</div>
<div class="cell markdown" id="ticcn4ETh1BM">
<p>Overall average score per question trend</p>
</div>
<div class="cell code" data-execution_count="57"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:607}"
id="aG_hB6MPmhaD" data-outputId="b15b7704-9ef4-4e63-a442-7ea097958c07">
<div class="sourceCode" id="cb20"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by month and year, and calculate the total answers and number of questions per month</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>monthly_data <span class="op">=</span> df_unique.groupby(df_unique[<span class="st">&#39;final_date&#39;</span>].dt.to_period(<span class="st">&#39;M&#39;</span>)).agg(</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    total_score<span class="op">=</span>(<span class="st">&#39;score&#39;</span>, <span class="st">&#39;sum&#39;</span>),</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    num_questions<span class="op">=</span>(<span class="st">&#39;question_id&#39;</span>, <span class="st">&#39;count&#39;</span>)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate average answers per question for each month</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>monthly_data[<span class="st">&#39;avg_score_per_question&#39;</span>] <span class="op">=</span> monthly_data[<span class="st">&#39;total_score&#39;</span>] <span class="op">/</span> monthly_data[<span class="st">&#39;num_questions&#39;</span>]</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the trend</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>monthly_data[<span class="st">&#39;avg_score_per_question&#39;</span>].plot(kind<span class="op">=</span><span class="st">&#39;line&#39;</span>, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>, figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Set labels and title</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Month Year&#39;</span>)</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Average Score per Question&#39;</span>)</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Average Score per Question Trend&#39;</span>)</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Format x-axis tick labels</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Show plot without grid lines</span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>, which<span class="op">=</span><span class="st">&#39;major&#39;</span>, axis<span class="op">=</span><span class="st">&#39;y&#39;</span>, color <span class="op">=</span> <span class="st">&#39;lightgrey&#39;</span>, alpha <span class="op">=</span> <span class="fl">0.5</span>)</span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Show plot</span></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_393b23820fd44101a5486d2450aefd6c/8ea22471a2aceed2844d358627d3e7a5fca56e3f.png" /></p>
</div>
</div>
<div class="cell markdown" id="CaHEziDPiNT4">
<p>Now, analysing the data at each tag level separately - python and
java</p>
</div>
<div class="cell code" data-execution_count="58" id="lXqGhNnEp0Mt">
<div class="sourceCode" id="cb21"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter for rows where the &#39;tags&#39; column contains &#39;python&#39; and &#39;java&#39;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>python_questions <span class="op">=</span> df_unique[df_unique[<span class="st">&#39;tags&#39;</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> tags: <span class="st">&#39;python&#39;</span> <span class="kw">in</span> tags)]</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>java_questions <span class="op">=</span> df_unique[df_unique[<span class="st">&#39;tags&#39;</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> tags: <span class="st">&#39;java&#39;</span> <span class="kw">in</span> tags)]</span></code></pre></div>
</div>
<section id="python" class="cell markdown" id="JrJowtGSh4py">
<h2>Python</h2>
</section>
<div class="cell markdown" id="zVJwHOGfiPpe">
<ul>
<li>Trend of python questions</li>
<li>Trend of average answer per question</li>
<li>Trend of percentage of unanswered questions</li>
<li>Trend of average score per question</li>
</ul>
</div>
<div class="cell code" data-execution_count="59"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:1000}"
id="X7klZhttoQxA" data-outputId="48313892-4578-42aa-88e1-cabeab76113b">
<div class="sourceCode" id="cb22"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the intervention date for the vertical line</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>intervention_date <span class="op">=</span> pd.Timestamp(<span class="st">&#39;2022-12-01&#39;</span>)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by month and year, and count the number of questions</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>python_question_trend <span class="op">=</span> python_questions.groupby(python_questions[<span class="st">&#39;final_date&#39;</span>].dt.to_period(<span class="st">&#39;M&#39;</span>))[<span class="st">&#39;question_id&#39;</span>].nunique()</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting total Python questions per month</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>python_question_trend.plot(kind<span class="op">=</span><span class="st">&#39;line&#39;</span>, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;-&#39;</span>, color<span class="op">=</span><span class="st">&#39;#4495a2&#39;</span>, label<span class="op">=</span><span class="st">&#39;_nolegend_&#39;</span>)</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>plt.axvline(intervention_date, color<span class="op">=</span><span class="st">&#39;#f9d448&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>, linewidth<span class="op">=</span><span class="dv">2</span>, label<span class="op">=</span><span class="st">&#39;Intervention Date&#39;</span>)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Month Year&#39;</span>)</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Number of Python Questions&#39;</span>)</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Number of Python Questions Trend&#39;</span>)</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>, which<span class="op">=</span><span class="st">&#39;major&#39;</span>, axis<span class="op">=</span><span class="st">&#39;y&#39;</span>, color<span class="op">=</span><span class="st">&#39;lightgrey&#39;</span>, alpha<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the total answers and number of questions per month for Python-tagged questions</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>python_monthly_data <span class="op">=</span> python_questions.groupby(python_questions[<span class="st">&#39;final_date&#39;</span>].dt.to_period(<span class="st">&#39;M&#39;</span>)).agg(</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>    total_answers<span class="op">=</span>(<span class="st">&#39;answer_count&#39;</span>, <span class="st">&#39;sum&#39;</span>),</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>    num_questions<span class="op">=</span>(<span class="st">&#39;question_id&#39;</span>, <span class="st">&#39;count&#39;</span>)</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate average answers per question for each month</span></span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>python_monthly_data[<span class="st">&#39;avg_answers_per_question&#39;</span>] <span class="op">=</span> python_monthly_data[<span class="st">&#39;total_answers&#39;</span>] <span class="op">/</span> python_monthly_data[<span class="st">&#39;num_questions&#39;</span>]</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting average number of answers per Python question per month</span></span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>python_monthly_data[<span class="st">&#39;avg_answers_per_question&#39;</span>].plot(kind<span class="op">=</span><span class="st">&#39;line&#39;</span>, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;-&#39;</span>, color<span class="op">=</span><span class="st">&#39;#4495a2&#39;</span>, label<span class="op">=</span><span class="st">&#39;_nolegend_&#39;</span>)</span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>plt.axvline(intervention_date, color<span class="op">=</span><span class="st">&#39;#f9d448&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>, linewidth<span class="op">=</span><span class="dv">2</span>, label<span class="op">=</span><span class="st">&#39;Intervention Date&#39;</span>)</span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Month Year&#39;</span>)</span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Average Number of Answers per Python Question&#39;</span>)</span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Average Number of Answers per Python Question Trend&#39;</span>)</span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>, which<span class="op">=</span><span class="st">&#39;major&#39;</span>, axis<span class="op">=</span><span class="st">&#39;y&#39;</span>, color<span class="op">=</span><span class="st">&#39;lightgrey&#39;</span>, alpha<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter Python questions with zero answers</span></span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a>python_zero_answers <span class="op">=</span> python_questions[python_questions[<span class="st">&#39;answer_count&#39;</span>] <span class="op">==</span> <span class="dv">0</span>]</span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Count the number of Python questions with zero answers per month</span></span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a>python_zero_answer_trend <span class="op">=</span> python_zero_answers.groupby(python_zero_answers[<span class="st">&#39;final_date&#39;</span>].dt.to_period(<span class="st">&#39;M&#39;</span>)).size()</span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting trend of Python questions with zero answers per month</span></span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a>python_zero_answer_trend.plot(kind<span class="op">=</span><span class="st">&#39;line&#39;</span>, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;-&#39;</span>, color<span class="op">=</span><span class="st">&#39;#4495a2&#39;</span>, label<span class="op">=</span><span class="st">&#39;_nolegend_&#39;</span>)</span>
<span id="cb22-48"><a href="#cb22-48" aria-hidden="true" tabindex="-1"></a>plt.axvline(intervention_date, color<span class="op">=</span><span class="st">&#39;#f9d448&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>, linewidth<span class="op">=</span><span class="dv">2</span>, label<span class="op">=</span><span class="st">&#39;Intervention Date&#39;</span>)</span>
<span id="cb22-49"><a href="#cb22-49" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Month Year&#39;</span>)</span>
<span id="cb22-50"><a href="#cb22-50" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Number of Python Questions with 0 Answers&#39;</span>)</span>
<span id="cb22-51"><a href="#cb22-51" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Number of Python Questions with 0 Answers Trend&#39;</span>)</span>
<span id="cb22-52"><a href="#cb22-52" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb22-53"><a href="#cb22-53" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>, which<span class="op">=</span><span class="st">&#39;major&#39;</span>, axis<span class="op">=</span><span class="st">&#39;y&#39;</span>, color<span class="op">=</span><span class="st">&#39;lightgrey&#39;</span>, alpha<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb22-54"><a href="#cb22-54" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb22-55"><a href="#cb22-55" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb22-56"><a href="#cb22-56" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb22-57"><a href="#cb22-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-58"><a href="#cb22-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-59"><a href="#cb22-59" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by month to calculate total Python questions and unanswered Python questions</span></span>
<span id="cb22-60"><a href="#cb22-60" aria-hidden="true" tabindex="-1"></a>python_monthly_data <span class="op">=</span> python_questions.groupby(python_questions[<span class="st">&#39;final_date&#39;</span>].dt.to_period(<span class="st">&#39;M&#39;</span>)).agg(</span>
<span id="cb22-61"><a href="#cb22-61" aria-hidden="true" tabindex="-1"></a>    total_python_questions<span class="op">=</span>(<span class="st">&#39;question_id&#39;</span>, <span class="st">&#39;count&#39;</span>),</span>
<span id="cb22-62"><a href="#cb22-62" aria-hidden="true" tabindex="-1"></a>    unanswered_python_questions<span class="op">=</span>(<span class="st">&#39;answer_count&#39;</span>, <span class="kw">lambda</span> x: (x <span class="op">==</span> <span class="dv">0</span>).<span class="bu">sum</span>())</span>
<span id="cb22-63"><a href="#cb22-63" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-64"><a href="#cb22-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-65"><a href="#cb22-65" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the percentage of unanswered Python questions</span></span>
<span id="cb22-66"><a href="#cb22-66" aria-hidden="true" tabindex="-1"></a>python_monthly_data[<span class="st">&#39;percentage_unanswered&#39;</span>] <span class="op">=</span> (python_monthly_data[<span class="st">&#39;unanswered_python_questions&#39;</span>] <span class="op">/</span> python_monthly_data[<span class="st">&#39;total_python_questions&#39;</span>]) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb22-67"><a href="#cb22-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-68"><a href="#cb22-68" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting trend of percentage of unanswered Python questions</span></span>
<span id="cb22-69"><a href="#cb22-69" aria-hidden="true" tabindex="-1"></a>python_monthly_data[<span class="st">&#39;percentage_unanswered&#39;</span>].plot(kind<span class="op">=</span><span class="st">&#39;line&#39;</span>, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;-&#39;</span>, color<span class="op">=</span><span class="st">&#39;#4495a2&#39;</span>, label<span class="op">=</span><span class="st">&#39;_nolegend_&#39;</span>)</span>
<span id="cb22-70"><a href="#cb22-70" aria-hidden="true" tabindex="-1"></a>plt.axvline(intervention_date, color<span class="op">=</span><span class="st">&#39;#f9d448&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>, linewidth<span class="op">=</span><span class="dv">2</span>, label<span class="op">=</span><span class="st">&#39;Intervention Date&#39;</span>)</span>
<span id="cb22-71"><a href="#cb22-71" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Month Year&#39;</span>)</span>
<span id="cb22-72"><a href="#cb22-72" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Percentage of Unanswered Python Questions (%)&#39;</span>)</span>
<span id="cb22-73"><a href="#cb22-73" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Trend of Percentage of Unanswered Python Questions&#39;</span>)</span>
<span id="cb22-74"><a href="#cb22-74" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb22-75"><a href="#cb22-75" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>, alpha<span class="op">=</span><span class="fl">0.7</span>)</span>
<span id="cb22-76"><a href="#cb22-76" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb22-77"><a href="#cb22-77" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb22-78"><a href="#cb22-78" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb22-79"><a href="#cb22-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-80"><a href="#cb22-80" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by month and year, and calculate the total scores and number of questions per month</span></span>
<span id="cb22-81"><a href="#cb22-81" aria-hidden="true" tabindex="-1"></a>python_monthly_scores <span class="op">=</span> python_questions.groupby(python_questions[<span class="st">&#39;final_date&#39;</span>].dt.to_period(<span class="st">&#39;M&#39;</span>)).agg(</span>
<span id="cb22-82"><a href="#cb22-82" aria-hidden="true" tabindex="-1"></a>    total_score<span class="op">=</span>(<span class="st">&#39;score&#39;</span>, <span class="st">&#39;sum&#39;</span>),</span>
<span id="cb22-83"><a href="#cb22-83" aria-hidden="true" tabindex="-1"></a>    num_questions<span class="op">=</span>(<span class="st">&#39;question_id&#39;</span>, <span class="st">&#39;count&#39;</span>)</span>
<span id="cb22-84"><a href="#cb22-84" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-85"><a href="#cb22-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-86"><a href="#cb22-86" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate average score per question for each month</span></span>
<span id="cb22-87"><a href="#cb22-87" aria-hidden="true" tabindex="-1"></a>python_monthly_scores[<span class="st">&#39;avg_score_per_question&#39;</span>] <span class="op">=</span> python_monthly_scores[<span class="st">&#39;total_score&#39;</span>] <span class="op">/</span> python_monthly_scores[<span class="st">&#39;num_questions&#39;</span>]</span>
<span id="cb22-88"><a href="#cb22-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-89"><a href="#cb22-89" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting average score per Python question per month</span></span>
<span id="cb22-90"><a href="#cb22-90" aria-hidden="true" tabindex="-1"></a>python_monthly_scores[<span class="st">&#39;avg_score_per_question&#39;</span>].plot(kind<span class="op">=</span><span class="st">&#39;line&#39;</span>, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;-&#39;</span>, color<span class="op">=</span><span class="st">&#39;#4495a2&#39;</span>, label<span class="op">=</span><span class="st">&#39;_nolegend_&#39;</span>)</span>
<span id="cb22-91"><a href="#cb22-91" aria-hidden="true" tabindex="-1"></a>plt.axvline(intervention_date, color<span class="op">=</span><span class="st">&#39;#f9d448&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>, linewidth<span class="op">=</span><span class="dv">2</span>, label<span class="op">=</span><span class="st">&#39;Intervention Date&#39;</span>)</span>
<span id="cb22-92"><a href="#cb22-92" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Month Year&#39;</span>)</span>
<span id="cb22-93"><a href="#cb22-93" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Average Score per Python Question&#39;</span>)</span>
<span id="cb22-94"><a href="#cb22-94" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Average Score per Python Question Trend&#39;</span>)</span>
<span id="cb22-95"><a href="#cb22-95" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb22-96"><a href="#cb22-96" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>, which<span class="op">=</span><span class="st">&#39;major&#39;</span>, axis<span class="op">=</span><span class="st">&#39;y&#39;</span>, color<span class="op">=</span><span class="st">&#39;lightgrey&#39;</span>, alpha<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb22-97"><a href="#cb22-97" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb22-98"><a href="#cb22-98" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb22-99"><a href="#cb22-99" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_393b23820fd44101a5486d2450aefd6c/068b00133e6511bd0443ec93b3a49af18c669825.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_393b23820fd44101a5486d2450aefd6c/45654d734fd991ab6cf4004179b44fbc9c3089e8.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_393b23820fd44101a5486d2450aefd6c/8326a0ff112d9854d551ed091335921810c23797.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_393b23820fd44101a5486d2450aefd6c/354152b24f778c8d6c5eeef35abc7657975e7f64.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_393b23820fd44101a5486d2450aefd6c/68e6b69d1f1bd623fda8b087cb5ce6d9a82dbdd0.png" /></p>
</div>
</div>
<section id="java" class="cell markdown" id="8waF5gIbigIU">
<h2>Java</h2>
<ul>
<li>Trend of python questions</li>
<li>Trend of average answer per question</li>
<li>Trend of percentage of unanswered questions</li>
<li>Trend of average score per question</li>
</ul>
</section>
<div class="cell code" data-execution_count="60"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:1000}"
id="A6uVqPlEpuZv" data-outputId="fa4c9ac8-499f-492c-dd61-59723d437270">
<div class="sourceCode" id="cb23"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the intervention date for the vertical line</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>intervention_date <span class="op">=</span> pd.Timestamp(<span class="st">&#39;2022-12-01&#39;</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting total Java questions per month</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>java_question_trend <span class="op">=</span> java_questions.groupby(java_questions[<span class="st">&#39;final_date&#39;</span>].dt.to_period(<span class="st">&#39;M&#39;</span>))[<span class="st">&#39;question_id&#39;</span>].nunique()</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>java_question_trend.plot(kind<span class="op">=</span><span class="st">&#39;line&#39;</span>, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>, color<span class="op">=</span><span class="st">&#39;#4495a2&#39;</span>, label<span class="op">=</span><span class="st">&#39;_nolegend_&#39;</span>)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>plt.axvline(intervention_date, color<span class="op">=</span><span class="st">&#39;#f9d448&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Number of Java Questions Trend&#39;</span>)</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Month Year&#39;</span>)</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Number of Java Questions&#39;</span>)</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>, which<span class="op">=</span><span class="st">&#39;major&#39;</span>, axis<span class="op">=</span><span class="st">&#39;y&#39;</span>, color<span class="op">=</span><span class="st">&#39;lightgrey&#39;</span>, alpha<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the total answers and number of questions per month for java-tagged questions</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>java_monthly_data <span class="op">=</span> java_questions.groupby(java_questions[<span class="st">&#39;final_date&#39;</span>].dt.to_period(<span class="st">&#39;M&#39;</span>)).agg(</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>    total_answers<span class="op">=</span>(<span class="st">&#39;answer_count&#39;</span>, <span class="st">&#39;sum&#39;</span>),</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>    num_questions<span class="op">=</span>(<span class="st">&#39;question_id&#39;</span>, <span class="st">&#39;count&#39;</span>)</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>java_monthly_data[<span class="st">&#39;avg_answers_per_question&#39;</span>] <span class="op">=</span> java_monthly_data[<span class="st">&#39;total_answers&#39;</span>] <span class="op">/</span> java_monthly_data[<span class="st">&#39;num_questions&#39;</span>]</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>java_monthly_data[<span class="st">&#39;avg_answers_per_question&#39;</span>].plot(kind<span class="op">=</span><span class="st">&#39;line&#39;</span>, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>, color<span class="op">=</span><span class="st">&#39;#4495a2&#39;</span>, label<span class="op">=</span><span class="st">&#39;_nolegend_&#39;</span>)</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>plt.axvline(intervention_date, color<span class="op">=</span><span class="st">&#39;#f9d448&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Average Number of Answers per Java Question Trend&#39;</span>)</span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Month Year&#39;</span>)</span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Average Number of Answers per Java Question&#39;</span>)</span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>, which<span class="op">=</span><span class="st">&#39;major&#39;</span>, axis<span class="op">=</span><span class="st">&#39;y&#39;</span>, color<span class="op">=</span><span class="st">&#39;lightgrey&#39;</span>, alpha<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Count the number of java questions with zero answers per month</span></span>
<span id="cb23-35"><a href="#cb23-35" aria-hidden="true" tabindex="-1"></a>java_zero_answers <span class="op">=</span> java_questions[java_questions[<span class="st">&#39;answer_count&#39;</span>] <span class="op">==</span> <span class="dv">0</span>]</span>
<span id="cb23-36"><a href="#cb23-36" aria-hidden="true" tabindex="-1"></a>java_zero_answer_trend <span class="op">=</span> java_zero_answers.groupby(java_zero_answers[<span class="st">&#39;final_date&#39;</span>].dt.to_period(<span class="st">&#39;M&#39;</span>)).size()</span>
<span id="cb23-37"><a href="#cb23-37" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb23-38"><a href="#cb23-38" aria-hidden="true" tabindex="-1"></a>java_zero_answer_trend.plot(kind<span class="op">=</span><span class="st">&#39;line&#39;</span>, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>, color<span class="op">=</span><span class="st">&#39;#4495a2&#39;</span>, label<span class="op">=</span><span class="st">&#39;_nolegend_&#39;</span>)</span>
<span id="cb23-39"><a href="#cb23-39" aria-hidden="true" tabindex="-1"></a>plt.axvline(intervention_date, color<span class="op">=</span><span class="st">&#39;#f9d448&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb23-40"><a href="#cb23-40" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Number of Java Questions with 0 Answers Trend&#39;</span>)</span>
<span id="cb23-41"><a href="#cb23-41" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Month Year&#39;</span>)</span>
<span id="cb23-42"><a href="#cb23-42" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Number of Java Questions with 0 Answers&#39;</span>)</span>
<span id="cb23-43"><a href="#cb23-43" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb23-44"><a href="#cb23-44" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>, which<span class="op">=</span><span class="st">&#39;major&#39;</span>, axis<span class="op">=</span><span class="st">&#39;y&#39;</span>, color<span class="op">=</span><span class="st">&#39;lightgrey&#39;</span>, alpha<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb23-45"><a href="#cb23-45" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb23-46"><a href="#cb23-46" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb23-47"><a href="#cb23-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-48"><a href="#cb23-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Recalculate total Java questions and unanswered Java questions for accuracy</span></span>
<span id="cb23-49"><a href="#cb23-49" aria-hidden="true" tabindex="-1"></a>java_monthly_data <span class="op">=</span> java_questions.groupby(java_questions[<span class="st">&#39;final_date&#39;</span>].dt.to_period(<span class="st">&#39;M&#39;</span>)).agg(</span>
<span id="cb23-50"><a href="#cb23-50" aria-hidden="true" tabindex="-1"></a>    total_java_questions<span class="op">=</span>(<span class="st">&#39;question_id&#39;</span>, <span class="st">&#39;count&#39;</span>),</span>
<span id="cb23-51"><a href="#cb23-51" aria-hidden="true" tabindex="-1"></a>    unanswered_java_questions<span class="op">=</span>(<span class="st">&#39;answer_count&#39;</span>, <span class="kw">lambda</span> x: (x <span class="op">==</span> <span class="dv">0</span>).<span class="bu">sum</span>())</span>
<span id="cb23-52"><a href="#cb23-52" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-53"><a href="#cb23-53" aria-hidden="true" tabindex="-1"></a>java_monthly_data[<span class="st">&#39;percentage_unanswered&#39;</span>] <span class="op">=</span> (java_monthly_data[<span class="st">&#39;unanswered_java_questions&#39;</span>] <span class="op">/</span> java_monthly_data[<span class="st">&#39;total_java_questions&#39;</span>]) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb23-54"><a href="#cb23-54" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb23-55"><a href="#cb23-55" aria-hidden="true" tabindex="-1"></a>java_monthly_data[<span class="st">&#39;percentage_unanswered&#39;</span>].plot(kind<span class="op">=</span><span class="st">&#39;line&#39;</span>, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>, color<span class="op">=</span><span class="st">&#39;#4495a2&#39;</span>, label<span class="op">=</span><span class="st">&#39;_nolegend_&#39;</span>)</span>
<span id="cb23-56"><a href="#cb23-56" aria-hidden="true" tabindex="-1"></a>plt.axvline(intervention_date, color<span class="op">=</span><span class="st">&#39;#f9d448&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb23-57"><a href="#cb23-57" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Trend of Percentage of Unanswered Java Questions&#39;</span>)</span>
<span id="cb23-58"><a href="#cb23-58" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Month Year&#39;</span>)</span>
<span id="cb23-59"><a href="#cb23-59" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Percentage of Unanswered Java Questions (%)&#39;</span>)</span>
<span id="cb23-60"><a href="#cb23-60" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb23-61"><a href="#cb23-61" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>, alpha<span class="op">=</span><span class="fl">0.7</span>)</span>
<span id="cb23-62"><a href="#cb23-62" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb23-63"><a href="#cb23-63" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_393b23820fd44101a5486d2450aefd6c/0bb3a22524b9d4777e10226bcdab628c3922912a.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_393b23820fd44101a5486d2450aefd6c/f510866fe06ca550d9e7f583f745edcd90002a5b.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_393b23820fd44101a5486d2450aefd6c/d6cb0667656f28b5ce2592e0e0f258c591a1c870.png" /></p>
</div>
<div class="output display_data">
<p><img
src="vertopal_393b23820fd44101a5486d2450aefd6c/32f19e4ddd87a2a241387223a4714dda300de418.png" /></p>
</div>
</div>
<section id="causal-analysis---regression-discontinuity"
class="cell markdown" id="jw5dumxaivAQ">
<h1>Causal Analysis - Regression Discontinuity</h1>
</section>
<section id="python" class="cell markdown" id="XxE-xr1RizlR">
<h2>Python</h2>
</section>
<div class="cell markdown" id="219-vf1QjLJU">
<p>Regression discontinuity on Python questions</p>
</div>
<div class="cell code" data-execution_count="61" id="NWfcWJCGtHfd">
<div class="sourceCode" id="cb24"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># python_questions is defined, make a copy to avoid SettingWithCopyWarning</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>python_questions_copy <span class="op">=</span> python_questions.copy()</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if &#39;final_date&#39; is already a Period, if not convert it</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> <span class="bu">isinstance</span>(python_questions_copy[<span class="st">&#39;final_date&#39;</span>].dtype, pd.PeriodDtype):</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    python_questions_copy[<span class="st">&#39;final_date&#39;</span>] <span class="op">=</span> pd.to_datetime(python_questions_copy[<span class="st">&#39;final_date&#39;</span>]).dt.to_period(<span class="st">&#39;M&#39;</span>)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the intervention date</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>intervention_date <span class="op">=</span> pd.Period(<span class="st">&#39;2022-12&#39;</span>, freq<span class="op">=</span><span class="st">&#39;M&#39;</span>)</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a DataFrame with counts of questions per month</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>monthly_counts <span class="op">=</span> python_questions_copy.groupby(<span class="st">&#39;final_date&#39;</span>).size()</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter data to 12 months before and after the intervention</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>start_period <span class="op">=</span> intervention_date <span class="op">-</span> <span class="dv">12</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>end_period <span class="op">=</span> intervention_date <span class="op">+</span> <span class="dv">12</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>monthly_counts <span class="op">=</span> monthly_counts[start_period:end_period]</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert period index differences to integers correctly</span></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>monthly_counts.index <span class="op">=</span> [(x <span class="op">-</span> intervention_date).n <span class="cf">for</span> x <span class="kw">in</span> monthly_counts.index]</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to DataFrame for easier manipulation</span></span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>monthly_counts <span class="op">=</span> monthly_counts.reset_index()</span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>monthly_counts.columns <span class="op">=</span> [<span class="st">&#39;months_from_intervention&#39;</span>, <span class="st">&#39;num_questions&#39;</span>]</span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a dummy variable for post-intervention periods</span></span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>monthly_counts[<span class="st">&#39;post_intervention&#39;</span>] <span class="op">=</span> (monthly_counts[<span class="st">&#39;months_from_intervention&#39;</span>] <span class="op">&gt;</span> <span class="dv">0</span>).astype(<span class="bu">int</span>)</span></code></pre></div>
</div>
<div class="cell markdown" id="xGUo1YK8jGBQ">
<p>Fit the model and regression discontinuity</p>
</div>
<div class="cell code" data-execution_count="62"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:1000}"
id="psuvXLsiyZEc" data-outputId="30dc93da-3986-4759-9800-fd056b6295f2">
<div class="sourceCode" id="cb25"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the regression model</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> ols(<span class="st">&#39;num_questions ~ post_intervention * months_from_intervention&#39;</span>, data<span class="op">=</span>monthly_counts).fit()</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary of the model</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(model.summary())</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatter plot for observed data</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>plt.scatter(monthly_counts[<span class="st">&#39;months_from_intervention&#39;</span>], monthly_counts[<span class="st">&#39;num_questions&#39;</span>], color<span class="op">=</span><span class="st">&#39;#4495a2&#39;</span>, label<span class="op">=</span><span class="st">&#39;Observed Data&#39;</span>)</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Add model predictions</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>monthly_counts[<span class="st">&#39;predictions&#39;</span>] <span class="op">=</span> model.fittedvalues</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Line plot for the regression line</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>plt.plot(monthly_counts[<span class="st">&#39;months_from_intervention&#39;</span>], monthly_counts[<span class="st">&#39;predictions&#39;</span>], color<span class="op">=</span><span class="st">&#39;#7ca655&#39;</span>, label<span class="op">=</span><span class="st">&#39;Fitted Line&#39;</span>)</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Title and labels</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Regression Discontinuity: Number of Python Questions Over Time&#39;</span>)</span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Months From Intervention (Dec 2022)&#39;</span>)</span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Number of Questions&#39;</span>)</span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Vertical line to indicate the intervention point</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>plt.axvline(x<span class="op">=</span><span class="dv">0</span>, color<span class="op">=</span><span class="st">&#39;#f9d448&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>, label<span class="op">=</span><span class="st">&#39;Intervention&#39;</span>)</span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Adding legend to the plot</span></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Grid for better readability</span></span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">False</span>)</span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:          num_questions   R-squared:                       0.971
Model:                            OLS   Adj. R-squared:                  0.966
Method:                 Least Squares   F-statistic:                     231.4
Date:                Tue, 07 May 2024   Prob (F-statistic):           3.05e-16
Time:                        01:10:35   Log-Likelihood:                -202.05
No. Observations:                  25   AIC:                             412.1
Df Residuals:                      21   BIC:                             417.0
Df Model:                           3                                         
Covariance Type:            nonrobust                                         
==============================================================================================================
                                                 coef    std err          t      P&gt;|t|      [0.025      0.975]
--------------------------------------------------------------------------------------------------------------
Intercept                                   1.847e+04    447.725     41.262      0.000    1.75e+04    1.94e+04
post_intervention                          -2906.2068    690.541     -4.209      0.000   -4342.266   -1470.148
months_from_intervention                    -226.5879     63.318     -3.579      0.002    -358.265     -94.911
post_intervention:months_from_intervention  -408.2547     95.455     -4.277      0.000    -606.765    -209.744
==============================================================================
Omnibus:                        1.292   Durbin-Watson:                   2.388
Prob(Omnibus):                  0.524   Jarque-Bera (JB):                1.115
Skew:                          -0.478   Prob(JB):                        0.573
Kurtosis:                       2.602   Cond. No.                         37.0
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_393b23820fd44101a5486d2450aefd6c/39b7b5d041c4b2a09c8c3e02052366dc6db3f42c.png" /></p>
</div>
</div>
<div class="cell markdown" id="9nP3rxk3jRTB">
<p>Regression discontinuity on Python average answer per question</p>
</div>
<div class="cell code" data-execution_count="63"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:1000}"
id="OI9wnw5IyaJD" data-outputId="657cf7cf-508a-4cfa-aa1b-262ed9c316e6">
<div class="sourceCode" id="cb27"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Copy the DataFrame to avoid SettingWithCopyWarning and ensure it&#39;s in the correct format</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>python_questions_copy <span class="op">=</span> python_questions.copy()</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> <span class="bu">isinstance</span>(python_questions_copy[<span class="st">&#39;final_date&#39;</span>].dtype, pd.PeriodDtype):</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    python_questions_copy[<span class="st">&#39;final_date&#39;</span>] <span class="op">=</span> pd.to_datetime(python_questions_copy[<span class="st">&#39;final_date&#39;</span>]).dt.to_period(<span class="st">&#39;M&#39;</span>)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the intervention date</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>intervention_date <span class="op">=</span> pd.Period(<span class="st">&#39;2022-12&#39;</span>, freq<span class="op">=</span><span class="st">&#39;M&#39;</span>)</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate data to calculate total answers and number of questions per month</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>monthly_data <span class="op">=</span> python_questions_copy.groupby(<span class="st">&#39;final_date&#39;</span>).agg(</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>    total_answers<span class="op">=</span>(<span class="st">&#39;answer_count&#39;</span>, <span class="st">&#39;sum&#39;</span>),</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>    num_questions<span class="op">=</span>(<span class="st">&#39;question_id&#39;</span>, <span class="st">&#39;count&#39;</span>)</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the average number of answers per question</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>monthly_data[<span class="st">&#39;avg_answers_per_question&#39;</span>] <span class="op">=</span> monthly_data[<span class="st">&#39;total_answers&#39;</span>] <span class="op">/</span> monthly_data[<span class="st">&#39;num_questions&#39;</span>]</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter data to 12 months before and after the intervention</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>start_period <span class="op">=</span> intervention_date <span class="op">-</span> <span class="dv">12</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>end_period <span class="op">=</span> intervention_date <span class="op">+</span> <span class="dv">12</span></span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>monthly_data <span class="op">=</span> monthly_data.loc[start_period:end_period]</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the time index relative to the intervention</span></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>monthly_data.reset_index(inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>monthly_data[<span class="st">&#39;months_from_intervention&#39;</span>] <span class="op">=</span> monthly_data[<span class="st">&#39;final_date&#39;</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: (x <span class="op">-</span> intervention_date).n)</span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a dummy variable for post-intervention periods</span></span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>monthly_data[<span class="st">&#39;post_intervention&#39;</span>] <span class="op">=</span> (monthly_data[<span class="st">&#39;months_from_intervention&#39;</span>] <span class="op">&gt;</span> <span class="dv">0</span>).astype(<span class="bu">int</span>)</span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the regression model</span></span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> ols(<span class="st">&#39;avg_answers_per_question ~ post_intervention * months_from_intervention&#39;</span>, data<span class="op">=</span>monthly_data).fit()</span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary of the model</span></span>
<span id="cb27-34"><a href="#cb27-34" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(model.summary())</span>
<span id="cb27-35"><a href="#cb27-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-36"><a href="#cb27-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb27-37"><a href="#cb27-37" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb27-38"><a href="#cb27-38" aria-hidden="true" tabindex="-1"></a>plt.scatter(monthly_data[<span class="st">&#39;months_from_intervention&#39;</span>], monthly_data[<span class="st">&#39;avg_answers_per_question&#39;</span>], color<span class="op">=</span><span class="st">&#39;#4495a2&#39;</span>, label<span class="op">=</span><span class="st">&#39;Observed Data&#39;</span>)  <span class="co"># Change point color to #4495a2</span></span>
<span id="cb27-39"><a href="#cb27-39" aria-hidden="true" tabindex="-1"></a>monthly_data[<span class="st">&#39;predictions&#39;</span>] <span class="op">=</span> model.fittedvalues</span>
<span id="cb27-40"><a href="#cb27-40" aria-hidden="true" tabindex="-1"></a>plt.plot(monthly_data[<span class="st">&#39;months_from_intervention&#39;</span>], monthly_data[<span class="st">&#39;predictions&#39;</span>], color<span class="op">=</span><span class="st">&#39;#7ca655&#39;</span>, label<span class="op">=</span><span class="st">&#39;Fitted Line&#39;</span>)  <span class="co"># Change line color to #7ca655</span></span>
<span id="cb27-41"><a href="#cb27-41" aria-hidden="true" tabindex="-1"></a>plt.axvline(x<span class="op">=</span><span class="dv">0</span>, color<span class="op">=</span><span class="st">&#39;#f9d448&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>, label<span class="op">=</span><span class="st">&#39;Intervention&#39;</span>)  <span class="co"># Change intervention line color to #f9d448</span></span>
<span id="cb27-42"><a href="#cb27-42" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Regression Discontinuity: Average Answers per Python Question Over Time&#39;</span>)</span>
<span id="cb27-43"><a href="#cb27-43" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Months From Intervention (Dec 2022)&#39;</span>)</span>
<span id="cb27-44"><a href="#cb27-44" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Average Answers per Question&#39;</span>)</span>
<span id="cb27-45"><a href="#cb27-45" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb27-46"><a href="#cb27-46" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb27-47"><a href="#cb27-47" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb27-48"><a href="#cb27-48" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>                               OLS Regression Results                               
====================================================================================
Dep. Variable:     avg_answers_per_question   R-squared:                       0.936
Model:                                  OLS   Adj. R-squared:                  0.927
Method:                       Least Squares   F-statistic:                     103.0
Date:                      Tue, 07 May 2024   Prob (F-statistic):           1.01e-12
Time:                              01:10:35   Log-Likelihood:                 46.428
No. Observations:                        25   AIC:                            -84.86
Df Residuals:                            21   BIC:                            -79.98
Df Model:                                 3                                         
Covariance Type:                  nonrobust                                         
==============================================================================================================
                                                 coef    std err          t      P&gt;|t|      [0.025      0.975]
--------------------------------------------------------------------------------------------------------------
Intercept                                      1.1303      0.022     52.317      0.000       1.085       1.175
post_intervention                             -0.0395      0.033     -1.184      0.250      -0.109       0.030
months_from_intervention                      -0.0035      0.003     -1.131      0.271      -0.010       0.003
post_intervention:months_from_intervention    -0.0261      0.005     -5.671      0.000      -0.036      -0.017
==============================================================================
Omnibus:                       12.470   Durbin-Watson:                   0.869
Prob(Omnibus):                  0.002   Jarque-Bera (JB):               11.948
Skew:                          -1.235   Prob(JB):                      0.00254
Kurtosis:                       5.318   Cond. No.                         37.0
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_393b23820fd44101a5486d2450aefd6c/c01c57e1b47e96a857a5cfc63f026e2da7c22a35.png" /></p>
</div>
</div>
<section id="java" class="cell markdown" id="G8j7ndMCjVq8">
<h2>Java</h2>
</section>
<div class="cell markdown" id="TXMyOtmgjXCU">
<p>Regression discontinuity on Java questions</p>
</div>
<div class="cell code" data-execution_count="64"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:1000}"
id="ULcmMjY3z9Fx" data-outputId="3452a921-2997-4813-8687-7188c3d5957a">
<div class="sourceCode" id="cb29"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Copy the DataFrame to avoid SettingWithCopyWarning</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>java_questions_copy <span class="op">=</span> java_questions.copy()</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if &#39;final_date&#39; is already a Period, if not convert it</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> <span class="bu">isinstance</span>(java_questions_copy[<span class="st">&#39;final_date&#39;</span>].dtype, pd.PeriodDtype):</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    java_questions_copy[<span class="st">&#39;final_date&#39;</span>] <span class="op">=</span> pd.to_datetime(java_questions_copy[<span class="st">&#39;final_date&#39;</span>]).dt.to_period(<span class="st">&#39;M&#39;</span>)</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the intervention date</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>intervention_date <span class="op">=</span> pd.Period(<span class="st">&#39;2022-12&#39;</span>, freq<span class="op">=</span><span class="st">&#39;M&#39;</span>)</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a DataFrame with counts of questions per month</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>monthly_counts <span class="op">=</span> java_questions_copy.groupby(<span class="st">&#39;final_date&#39;</span>).size()</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter data to 12 months before and after the intervention</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>start_period <span class="op">=</span> intervention_date <span class="op">-</span> <span class="dv">12</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>end_period <span class="op">=</span> intervention_date <span class="op">+</span> <span class="dv">12</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>monthly_counts <span class="op">=</span> monthly_counts[start_period:end_period]</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert period index differences to integers correctly</span></span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>monthly_counts.index <span class="op">=</span> [(x <span class="op">-</span> intervention_date).n <span class="cf">for</span> x <span class="kw">in</span> monthly_counts.index]</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to DataFrame for easier manipulation</span></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>monthly_counts <span class="op">=</span> monthly_counts.reset_index()</span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>monthly_counts.columns <span class="op">=</span> [<span class="st">&#39;months_from_intervention&#39;</span>, <span class="st">&#39;num_questions&#39;</span>]</span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a dummy variable for post-intervention periods</span></span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>monthly_counts[<span class="st">&#39;post_intervention&#39;</span>] <span class="op">=</span> (monthly_counts[<span class="st">&#39;months_from_intervention&#39;</span>] <span class="op">&gt;</span> <span class="dv">0</span>).astype(<span class="bu">int</span>)</span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the regression model</span></span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> ols(<span class="st">&#39;num_questions ~ post_intervention * months_from_intervention&#39;</span>, data<span class="op">=</span>monthly_counts).fit()</span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary of the model</span></span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(model.summary())</span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a>plt.scatter(monthly_counts[<span class="st">&#39;months_from_intervention&#39;</span>], monthly_counts[<span class="st">&#39;num_questions&#39;</span>], color<span class="op">=</span><span class="st">&#39;#4495a2&#39;</span>, label<span class="op">=</span><span class="st">&#39;Observed Data&#39;</span>)</span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a>monthly_counts[<span class="st">&#39;predictions&#39;</span>] <span class="op">=</span> model.fittedvalues</span>
<span id="cb29-39"><a href="#cb29-39" aria-hidden="true" tabindex="-1"></a>plt.plot(monthly_counts[<span class="st">&#39;months_from_intervention&#39;</span>], monthly_counts[<span class="st">&#39;predictions&#39;</span>], color<span class="op">=</span><span class="st">&#39;#7ca655&#39;</span>, label<span class="op">=</span><span class="st">&#39;Fitted Line&#39;</span>)</span>
<span id="cb29-40"><a href="#cb29-40" aria-hidden="true" tabindex="-1"></a>plt.axvline(x<span class="op">=</span><span class="dv">0</span>, color<span class="op">=</span><span class="st">&#39;#f9d448&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>, label<span class="op">=</span><span class="st">&#39;Intervention&#39;</span>)</span>
<span id="cb29-41"><a href="#cb29-41" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Regression Discontinuity: Number of Java Questions Over Time&#39;</span>)</span>
<span id="cb29-42"><a href="#cb29-42" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Months From Intervention (Dec 2022)&#39;</span>)</span>
<span id="cb29-43"><a href="#cb29-43" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Number of Questions&#39;</span>)</span>
<span id="cb29-44"><a href="#cb29-44" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb29-45"><a href="#cb29-45" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb29-46"><a href="#cb29-46" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb29-47"><a href="#cb29-47" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:          num_questions   R-squared:                       0.935
Model:                            OLS   Adj. R-squared:                  0.926
Method:                 Least Squares   F-statistic:                     100.6
Date:                Tue, 07 May 2024   Prob (F-statistic):           1.27e-12
Time:                        01:10:36   Log-Likelihood:                -177.43
No. Observations:                  25   AIC:                             362.9
Df Residuals:                      21   BIC:                             367.7
Df Model:                           3                                         
Covariance Type:            nonrobust                                         
==============================================================================================================
                                                 coef    std err          t      P&gt;|t|      [0.025      0.975]
--------------------------------------------------------------------------------------------------------------
Intercept                                   5116.8901    167.257     30.593      0.000    4769.061    5464.720
post_intervention                           -192.7234    257.965     -0.747      0.463    -729.192     343.745
months_from_intervention                    -130.3516     23.654     -5.511      0.000    -179.542     -81.161
post_intervention:months_from_intervention   -23.1484     35.659     -0.649      0.523     -97.306      51.009
==============================================================================
Omnibus:                        2.313   Durbin-Watson:                   1.670
Prob(Omnibus):                  0.315   Jarque-Bera (JB):                1.175
Skew:                           0.071   Prob(JB):                        0.556
Kurtosis:                       1.947   Cond. No.                         37.0
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_393b23820fd44101a5486d2450aefd6c/36d09dff16d811eceb0d9769a7c9a7a888b0690d.png" /></p>
</div>
</div>
<div class="cell markdown" id="YqphzjFCjdox">
<p>Regression discontinuity on Java average answer per question</p>
</div>
<div class="cell code" data-execution_count="65"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:1000}"
id="rT_cFwMp0NBT" data-outputId="1ac528a8-2ba6-4677-c2d3-a11eb689703c">
<div class="sourceCode" id="cb31"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Copy the DataFrame to avoid SettingWithCopyWarning</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>java_questions_copy <span class="op">=</span> java_questions.copy()</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> <span class="bu">isinstance</span>(java_questions_copy[<span class="st">&#39;final_date&#39;</span>].dtype, pd.PeriodDtype):</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    java_questions_copy[<span class="st">&#39;final_date&#39;</span>] <span class="op">=</span> pd.to_datetime(java_questions_copy[<span class="st">&#39;final_date&#39;</span>]).dt.to_period(<span class="st">&#39;M&#39;</span>)</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the intervention date</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>intervention_date <span class="op">=</span> pd.Period(<span class="st">&#39;2022-12&#39;</span>, freq<span class="op">=</span><span class="st">&#39;M&#39;</span>)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate data to calculate total answers and number of questions per month</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>monthly_data <span class="op">=</span> java_questions_copy.groupby(<span class="st">&#39;final_date&#39;</span>).agg(</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>    total_answers<span class="op">=</span>(<span class="st">&#39;answer_count&#39;</span>, <span class="st">&#39;sum&#39;</span>),</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>    num_questions<span class="op">=</span>(<span class="st">&#39;question_id&#39;</span>, <span class="st">&#39;count&#39;</span>)</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the average number of answers per question</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>monthly_data[<span class="st">&#39;avg_answers_per_question&#39;</span>] <span class="op">=</span> monthly_data[<span class="st">&#39;total_answers&#39;</span>] <span class="op">/</span> monthly_data[<span class="st">&#39;num_questions&#39;</span>]</span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter data to 12 months before and after the intervention</span></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>start_period <span class="op">=</span> intervention_date <span class="op">-</span> <span class="dv">12</span></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>end_period <span class="op">=</span> intervention_date <span class="op">+</span> <span class="dv">12</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>monthly_data <span class="op">=</span> monthly_data.loc[start_period:end_period]</span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the time index relative to the intervention</span></span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>monthly_data.reset_index(inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>monthly_data[<span class="st">&#39;months_from_intervention&#39;</span>] <span class="op">=</span> monthly_data[<span class="st">&#39;final_date&#39;</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: (x <span class="op">-</span> intervention_date).n)</span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a dummy variable for post-intervention periods</span></span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>monthly_data[<span class="st">&#39;post_intervention&#39;</span>] <span class="op">=</span> (monthly_data[<span class="st">&#39;months_from_intervention&#39;</span>] <span class="op">&gt;</span> <span class="dv">0</span>).astype(<span class="bu">int</span>)</span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the regression model</span></span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> ols(<span class="st">&#39;avg_answers_per_question ~ post_intervention * months_from_intervention&#39;</span>, data<span class="op">=</span>monthly_data).fit()</span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary of the model</span></span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(model.summary())</span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a>plt.scatter(monthly_data[<span class="st">&#39;months_from_intervention&#39;</span>], monthly_data[<span class="st">&#39;avg_answers_per_question&#39;</span>], color<span class="op">=</span><span class="st">&#39;#4495a2&#39;</span>, label<span class="op">=</span><span class="st">&#39;Observed Data&#39;</span>)  <span class="co"># Change point color to #4495a2</span></span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a>monthly_data[<span class="st">&#39;predictions&#39;</span>] <span class="op">=</span> model.fittedvalues</span>
<span id="cb31-40"><a href="#cb31-40" aria-hidden="true" tabindex="-1"></a>plt.plot(monthly_data[<span class="st">&#39;months_from_intervention&#39;</span>], monthly_data[<span class="st">&#39;predictions&#39;</span>], color<span class="op">=</span><span class="st">&#39;#7ca655&#39;</span>, label<span class="op">=</span><span class="st">&#39;Fitted Line&#39;</span>)  <span class="co"># Change line color to #7ca655</span></span>
<span id="cb31-41"><a href="#cb31-41" aria-hidden="true" tabindex="-1"></a>plt.axvline(x<span class="op">=</span><span class="dv">0</span>, color<span class="op">=</span><span class="st">&#39;#f9d448&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>, label<span class="op">=</span><span class="st">&#39;Intervention&#39;</span>)  <span class="co"># Change intervention line color to #f9d448</span></span>
<span id="cb31-42"><a href="#cb31-42" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Regression Discontinuity: Average Answers per Java Question Over Time&#39;</span>)</span>
<span id="cb31-43"><a href="#cb31-43" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Months From Intervention (Dec 2022)&#39;</span>)</span>
<span id="cb31-44"><a href="#cb31-44" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Average Answers per Question&#39;</span>)</span>
<span id="cb31-45"><a href="#cb31-45" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb31-46"><a href="#cb31-46" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb31-47"><a href="#cb31-47" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb31-48"><a href="#cb31-48" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>                               OLS Regression Results                               
====================================================================================
Dep. Variable:     avg_answers_per_question   R-squared:                       0.889
Model:                                  OLS   Adj. R-squared:                  0.874
Method:                       Least Squares   F-statistic:                     56.33
Date:                      Tue, 07 May 2024   Prob (F-statistic):           3.25e-10
Time:                              01:10:36   Log-Likelihood:                 44.586
No. Observations:                        25   AIC:                            -81.17
Df Residuals:                            21   BIC:                            -76.30
Df Model:                                 3                                         
Covariance Type:                  nonrobust                                         
==============================================================================================================
                                                 coef    std err          t      P&gt;|t|      [0.025      0.975]
--------------------------------------------------------------------------------------------------------------
Intercept                                      0.9847      0.023     42.341      0.000       0.936       1.033
post_intervention                             -0.0332      0.036     -0.925      0.366      -0.108       0.041
months_from_intervention                      -0.0060      0.003     -1.810      0.085      -0.013       0.001
post_intervention:months_from_intervention    -0.0150      0.005     -3.034      0.006      -0.025      -0.005
==============================================================================
Omnibus:                        3.402   Durbin-Watson:                   0.857
Prob(Omnibus):                  0.182   Jarque-Bera (JB):                2.019
Skew:                          -0.671   Prob(JB):                        0.364
Kurtosis:                       3.373   Cond. No.                         37.0
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_393b23820fd44101a5486d2450aefd6c/2e3c5cdf83c9709b989b7f16ed8a3c37af531588.png" /></p>
</div>
</div>
<section
id="similarity-of-questions-before-and-after-analysis-using-the-cosine-similarity"
class="cell markdown" id="qrvWczOFjhbJ">
<h1>Similarity of questions before and after Analysis using the Cosine
Similarity</h1>
<ul>
<li>Removal of stop words and punctuations.</li>
<li>td-idf (term frequency - inverse document frequency) for measure of
importance of a word to a document/title.</li>
<li>Dimension Reduction using NMF</li>
<li>Cosine Similarity is done in two-folds.
<ol>
<li>Similarity check on questions posted before chatgpt alone to see how
similar the questions are for basic intuitive idea</li>
<li>Next, checked the similarity of questions posted between before and
after questions</li>
</ol></li>
</ul>
</section>
<div class="cell markdown" id="m2YPv-uIkplX">
<p>Download the stop words</p>
</div>
<div class="cell code" data-execution_count="66"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="P0U-unB3iIDU" data-outputId="0616c61f-e8a1-4d53-b191-5b436c176368">
<div class="sourceCode" id="cb33"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>nltk.download(<span class="st">&#39;stopwords&#39;</span>)</span></code></pre></div>
<div class="output stream stderr">
<pre><code>[nltk_data] Downloading package stopwords to /root/nltk_data...
[nltk_data]   Package stopwords is already up-to-date!
</code></pre>
</div>
<div class="output execute_result" data-execution_count="66">
<pre><code>True</code></pre>
</div>
</div>
<div class="cell markdown" id="L8pJGsPFksdz">
<p>Function for converting text to lower case, removal of punctuations
and stop words.</p>
</div>
<div class="cell code" data-execution_count="67" id="C4hHXgCouVGw">
<div class="sourceCode" id="cb36"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="op">=</span> <span class="bu">set</span>(stopwords.words(<span class="st">&#39;english&#39;</span>))</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> clean_text(text):</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> text.lower()</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> <span class="st">&#39;&#39;</span>.join(char <span class="cf">for</span> char <span class="kw">in</span> text <span class="cf">if</span> char <span class="kw">not</span> <span class="kw">in</span> string.punctuation)</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> <span class="st">&#39; &#39;</span>.join(word <span class="cf">for</span> word <span class="kw">in</span> text.split() <span class="cf">if</span> word <span class="kw">not</span> <span class="kw">in</span> stop_words)</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> text</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the intervention date</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>intervention_date <span class="op">=</span> pd.Timestamp(<span class="st">&#39;2022-12-01&#39;</span>)</span></code></pre></div>
</div>
<div class="cell markdown" id="fhb4TPvCk0QX">
<p>Due to low computational power locally, considered the data for 6
months before and after the launch of ChatGPT and also considered 100
random samples before and after due to low computational power.</p>
</div>
<section id="python" class="cell markdown" id="8jkAJMGBlTGk">
<h2>Python</h2>
</section>
<div class="cell markdown" id="GeRmq-zIlV22">
<p>Python questions between before and after the launch of ChatGPT</p>
</div>
<div class="cell code" data-execution_count="68"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="ihpFAZYsimFd" data-outputId="444e22c6-ff11-4aa2-bb60-a8f17fe6659f">
<div class="sourceCode" id="cb37"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Narrow down the date range to 6 months before and after the intervention</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>before_intervention <span class="op">=</span> python_questions.loc[</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>    (python_questions[<span class="st">&#39;final_date&#39;</span>] <span class="op">&lt;</span> intervention_date) <span class="op">&amp;</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>    (python_questions[<span class="st">&#39;final_date&#39;</span>] <span class="op">&gt;=</span> intervention_date <span class="op">-</span> pd.DateOffset(months<span class="op">=</span><span class="dv">6</span>))</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>].copy()</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>after_intervention <span class="op">=</span> python_questions.loc[</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>    (python_questions[<span class="st">&#39;final_date&#39;</span>] <span class="op">&gt;=</span> intervention_date) <span class="op">&amp;</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>    (python_questions[<span class="st">&#39;final_date&#39;</span>] <span class="op">&lt;=</span> intervention_date <span class="op">+</span> pd.DateOffset(months<span class="op">=</span><span class="dv">6</span>))</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>].copy()</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply sampling if still needed due to large dataset size</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>sample_size <span class="op">=</span> <span class="dv">100</span>  <span class="co"># Adjust sample size based on memory and performance needs</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>before_intervention <span class="op">=</span> before_intervention.sample(n<span class="op">=</span>sample_size, random_state<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>after_intervention <span class="op">=</span> after_intervention.sample(n<span class="op">=</span>sample_size, random_state<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Preprocess text data</span></span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>before_intervention[<span class="st">&#39;cleaned_title&#39;</span>] <span class="op">=</span> before_intervention[<span class="st">&#39;title&#39;</span>].<span class="bu">apply</span>(clean_text)</span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>after_intervention[<span class="st">&#39;cleaned_title&#39;</span>] <span class="op">=</span> after_intervention[<span class="st">&#39;title&#39;</span>].<span class="bu">apply</span>(clean_text)</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Vectorize text using TF-IDF</span></span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>vectorizer <span class="op">=</span> TfidfVectorizer(max_features<span class="op">=</span><span class="dv">500</span>)  <span class="co"># Reducing features</span></span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>tfidf_matrix <span class="op">=</span> vectorizer.fit_transform(before_intervention[<span class="st">&#39;cleaned_title&#39;</span>].tolist() <span class="op">+</span> after_intervention[<span class="st">&#39;cleaned_title&#39;</span>].tolist())</span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Reduce dimensionality further</span></span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a>svd <span class="op">=</span> TruncatedSVD(n_components<span class="op">=</span><span class="dv">50</span>)  <span class="co"># More aggressive dimensionality reduction</span></span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a>tfidf_reduced <span class="op">=</span> svd.fit_transform(tfidf_matrix)</span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Split the reduced TF-IDF matrix</span></span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a>split_index <span class="op">=</span> <span class="bu">len</span>(before_intervention)</span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a>before_tfidf <span class="op">=</span> tfidf_reduced[:split_index]</span>
<span id="cb37-31"><a href="#cb37-31" aria-hidden="true" tabindex="-1"></a>after_tfidf <span class="op">=</span> tfidf_reduced[split_index:]</span>
<span id="cb37-32"><a href="#cb37-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-33"><a href="#cb37-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute cosine similarity</span></span>
<span id="cb37-34"><a href="#cb37-34" aria-hidden="true" tabindex="-1"></a>cosine_sim <span class="op">=</span> cosine_similarity(before_tfidf, after_tfidf)</span>
<span id="cb37-35"><a href="#cb37-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-36"><a href="#cb37-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the average cosine similarity</span></span>
<span id="cb37-37"><a href="#cb37-37" aria-hidden="true" tabindex="-1"></a>average_similarity <span class="op">=</span> np.mean(cosine_sim, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb37-38"><a href="#cb37-38" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Average cosine similarity between questions before and after intervention:&quot;</span>, np.mean(average_similarity))</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Average cosine similarity between questions before and after intervention: 0.031601941395756755
</code></pre>
</div>
</div>
<div class="cell markdown" id="ezUCJfehlcMU">
<p>Create a table of similarity with top 10 similarities</p>
</div>
<div class="cell code" data-execution_count="69"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="EiuJnWx9wLM8" data-outputId="399dae8e-3d3e-48fe-a9e4-cc1b40365fc0">
<div class="sourceCode" id="cb39"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a DataFrame from the cosine similarity matrix</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>titles_before <span class="op">=</span> before_intervention[<span class="st">&#39;title&#39;</span>].tolist()</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>titles_after <span class="op">=</span> after_intervention[<span class="st">&#39;title&#39;</span>].tolist()</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>similarity_df <span class="op">=</span> pd.DataFrame(cosine_sim, index<span class="op">=</span>titles_before, columns<span class="op">=</span>titles_after)</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Flatten the DataFrame and reset index to turn it into a long format DataFrame</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>similarity_long_df <span class="op">=</span> similarity_df.stack().reset_index()</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>similarity_long_df.columns <span class="op">=</span> [<span class="st">&#39;Question Before&#39;</span>, <span class="st">&#39;Question After&#39;</span>, <span class="st">&#39;Cosine Similarity&#39;</span>]</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort by cosine similarity for both highest and lowest</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>top_similarities <span class="op">=</span> similarity_long_df.sort_values(by<span class="op">=</span><span class="st">&#39;Cosine Similarity&#39;</span>, ascending<span class="op">=</span><span class="va">False</span>).head(<span class="dv">10</span>)</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>lowest_similarities <span class="op">=</span> similarity_long_df.sort_values(by<span class="op">=</span><span class="st">&#39;Cosine Similarity&#39;</span>, ascending<span class="op">=</span><span class="va">True</span>).head(<span class="dv">10</span>)</span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the DataFrames</span></span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Top 10 High Similarity Pairs:&quot;</span>)</span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(top_similarities)</span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">Top 10 Low Similarity Pairs:&quot;</span>)</span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(lowest_similarities)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Top 10 High Similarity Pairs:
                                        Question Before  \
8684                   user crate oval shape in tkinter   
2035  How to define a Content Id on an attachment us...   
2089  How to define a Content Id on an attachment us...   
7189  ndarray is not C-contiguous using scikit-learn...   
3966            Annotation with Line plot in Matplotlib   
7238                 Translation from Mathcad to Python   
7979                       Slice multidimensional array   
5367               Number Guessing game using SimpleGUI   
7135  ndarray is not C-contiguous using scikit-learn...   
4772   How to load yaml string placeholders for python?   

                                         Question After  Cosine Similarity  
8684                 tkinter scrollable listbox refresh           0.989545  
2035  Rasterio reproject using from_gcps moves raste...           0.966843  
2089  How to broadcast using asyncio&amp;#39;s datagram ...           0.965845  
7189  How to broadcast using asyncio&amp;#39;s datagram ...           0.965593  
3966  Violin plot equivalent for line plots with ker...           0.964225  
7238    Python: understanding method/descriptor binding           0.959242  
7979  Is there any efficient way both getting &amp;#39;m...           0.957465  
5367  Why is the left number inclusive and the right...           0.945402  
7135  Rasterio reproject using from_gcps moves raste...           0.945045  
4772                       Python 3.8 and pickle load()           0.934241  

Top 10 Low Similarity Pairs:
                                        Question Before  \
3654                 Relation does not exist - Postgres   
2823  Firebase credentials as Python environment var...   
5400     QMenuBar QMenu is too short when first clicked   
3023        How can deactivate the virtual environment?   
5408     QMenuBar QMenu is too short when first clicked   
5451     QMenuBar QMenu is too short when first clicked   
2740  certificate verify failed in intercepting traf...   
4374  How would I check if a landmark isn&amp;#39;t bein...   
3004        How can deactivate the virtual environment?   
6298  converting the python queue module from python...   

                                         Question After  Cosine Similarity  
3654  TypeError: unsupported operand type(s) for *: ...          -0.554908  
2823                           Mapping scores to People          -0.487261  
5400  How do I pass a user-agent to panda&amp;#39;s pd.r...          -0.459018  
3023                           Mapping scores to People          -0.440103  
5408  Split a 3D matrix into 3 parts based on the re...          -0.434847  
5451  __init__() got an unexpected keyword argument ...          -0.426042  
2740  Upgrade Lambda Python 2.7 to 3.9 - Library Dep...          -0.348929  
4374                    How can I use cogs (discord.py)          -0.348187  
3004                                    CronTab not run          -0.332605  
6298  Choosing the earliest date per record when equ...          -0.321335  
</code></pre>
</div>
</div>
<div class="cell markdown" id="Gub_3RE7lnTX">
<ul>
<li>Cosine similarity +1 implies completely similar and -1 implies
compltely dissimilar.</li>
<li>Created a buckets of similarity score and percentage of questions
fall under each bucket.</li>
</ul>
</div>
<div class="cell code" data-execution_count="70"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:805}"
id="UIuKjlFNwL4x" data-outputId="2b04a83d-3498-47f1-e4d5-ff517fa58491">
<div class="sourceCode" id="cb41"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the bins for cosine similarity scores</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>bins <span class="op">=</span> [<span class="op">-</span><span class="dv">1</span>, <span class="op">-</span><span class="fl">0.7</span>, <span class="op">-</span><span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.2</span>, <span class="dv">0</span>, <span class="fl">0.2</span>, <span class="fl">0.5</span>, <span class="fl">0.7</span>, <span class="dv">1</span>]</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Use pd.cut to categorize the similarity scores into bins</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>similarity_long_df[<span class="st">&#39;Similarity Range&#39;</span>] <span class="op">=</span> pd.cut(similarity_long_df[<span class="st">&#39;Cosine Similarity&#39;</span>], bins<span class="op">=</span>bins, labels<span class="op">=</span>[<span class="st">&quot;-1 to -0.7&quot;</span>, <span class="st">&quot;-0.7 to -0.5&quot;</span>, <span class="st">&quot;-0.5 to -0.2&quot;</span>, <span class="st">&quot;-0.2 to 0&quot;</span>, <span class="st">&quot;0 to 0.2&quot;</span>, <span class="st">&quot;0.2 to 0.5&quot;</span>, <span class="st">&quot;0.5 to 0.7&quot;</span>, <span class="st">&quot;0.7 to 1&quot;</span>])</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Count the number of entries in each bin</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>similarity_counts <span class="op">=</span> similarity_long_df[<span class="st">&#39;Similarity Range&#39;</span>].value_counts().sort_index()</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the counts</span></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Number of question pairs in each similarity range:&quot;</span>)</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(similarity_counts)</span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert counts to percentages</span></span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>total_counts <span class="op">=</span> similarity_counts.<span class="bu">sum</span>()</span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>similarity_percentages <span class="op">=</span> (similarity_counts <span class="op">/</span> total_counts) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bar chart</span></span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a>similarity_percentages.plot(kind<span class="op">=</span><span class="st">&#39;bar&#39;</span>, color<span class="op">=</span><span class="st">&#39;#4495a2&#39;</span>)  <span class="co"># Use specified color for the bars</span></span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Percentage of Question Pairs by Cosine Similarity Range&#39;</span>)</span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Cosine Similarity Ranges&#39;</span>)</span>
<span id="cb41-23"><a href="#cb41-23" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Percentage of Total Pairs (%)&#39;</span>)</span>
<span id="cb41-24"><a href="#cb41-24" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)  <span class="co"># Rotate labels to improve readability</span></span>
<span id="cb41-25"><a href="#cb41-25" aria-hidden="true" tabindex="-1"></a>plt.grid(axis<span class="op">=</span><span class="st">&#39;y&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>, alpha<span class="op">=</span><span class="fl">0.7</span>)  <span class="co"># Add a grid for better reference</span></span>
<span id="cb41-26"><a href="#cb41-26" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Number of question pairs in each similarity range:
Similarity Range
-1 to -0.7         0
-0.7 to -0.5       1
-0.5 to -0.2      73
-0.2 to 0       4661
0 to 0.2        4501
0.2 to 0.5       589
0.5 to 0.7       121
0.7 to 1          54
Name: count, dtype: int64
</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_393b23820fd44101a5486d2450aefd6c/aa516da1d4d1b36b7861c0acc751ea09dcdd463f.png" /></p>
</div>
</div>
<div class="cell markdown" id="kpeV52iwmA2t">
<p>Python questions among before the launch of ChatGPT</p>
</div>
<div class="cell code" data-execution_count="71"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:805}"
id="lMTh7swZw70e" data-outputId="a79ab8d0-90fa-4b73-a458-1fc1f145c30e">
<div class="sourceCode" id="cb43"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vectorize text using TF-IDF</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>vectorizer_before <span class="op">=</span> TfidfVectorizer(max_features<span class="op">=</span><span class="dv">500</span>)</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>before_tfidf <span class="op">=</span> vectorizer_before.fit_transform(before_intervention[<span class="st">&#39;cleaned_title&#39;</span>])</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply SVD to reduce dimensionality</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>svd <span class="op">=</span> TruncatedSVD(n_components<span class="op">=</span><span class="dv">50</span>)</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>before_tfidf_reduced <span class="op">=</span> svd.fit_transform(before_tfidf)</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute cosine similarity within the &#39;before&#39; questions using the reduced data</span></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>cosine_sim_before <span class="op">=</span> cosine_similarity(before_tfidf_reduced)</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Since the similarity of a question with itself is not useful, we set the diagonal to NaN</span></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>np.fill_diagonal(cosine_sim_before, np.nan)</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Flatten the matrix and remove NaN values</span></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>similarity_values_before <span class="op">=</span> cosine_sim_before.flatten()</span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>similarity_values_before <span class="op">=</span> similarity_values_before[<span class="op">~</span>np.isnan(similarity_values_before)]</span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a DataFrame from the flattened similarity values</span></span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>similarity_df_before <span class="op">=</span> pd.DataFrame(similarity_values_before, columns<span class="op">=</span>[<span class="st">&#39;Cosine Similarity&#39;</span>])</span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-22"><a href="#cb43-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the bins and labels</span></span>
<span id="cb43-23"><a href="#cb43-23" aria-hidden="true" tabindex="-1"></a>bins <span class="op">=</span> [<span class="op">-</span><span class="dv">1</span>, <span class="op">-</span><span class="fl">0.7</span>, <span class="op">-</span><span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.2</span>, <span class="dv">0</span>, <span class="fl">0.2</span>, <span class="fl">0.5</span>, <span class="fl">0.7</span>, <span class="dv">1</span>]</span>
<span id="cb43-24"><a href="#cb43-24" aria-hidden="true" tabindex="-1"></a>labels <span class="op">=</span> [<span class="st">&quot;-1 to -0.7&quot;</span>, <span class="st">&quot;-0.7 to -0.5&quot;</span>, <span class="st">&quot;-0.5 to -0.2&quot;</span>, <span class="st">&quot;-0.2 to 0&quot;</span>, <span class="st">&quot;0 to 0.2&quot;</span>, <span class="st">&quot;0.2 to 0.5&quot;</span>, <span class="st">&quot;0.5 to 0.7&quot;</span>, <span class="st">&quot;0.7 to 1&quot;</span>]</span>
<span id="cb43-25"><a href="#cb43-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-26"><a href="#cb43-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Bin the data</span></span>
<span id="cb43-27"><a href="#cb43-27" aria-hidden="true" tabindex="-1"></a>similarity_df_before[<span class="st">&#39;Similarity Range&#39;</span>] <span class="op">=</span> pd.cut(similarity_df_before[<span class="st">&#39;Cosine Similarity&#39;</span>], bins<span class="op">=</span>bins, labels<span class="op">=</span>labels)</span>
<span id="cb43-28"><a href="#cb43-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-29"><a href="#cb43-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Count the number of entries in each bin</span></span>
<span id="cb43-30"><a href="#cb43-30" aria-hidden="true" tabindex="-1"></a>similarity_counts_before <span class="op">=</span> similarity_df_before[<span class="st">&#39;Similarity Range&#39;</span>].value_counts().sort_index()</span>
<span id="cb43-31"><a href="#cb43-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-32"><a href="#cb43-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the counts</span></span>
<span id="cb43-33"><a href="#cb43-33" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Number of question pairs in each similarity range:&quot;</span>)</span>
<span id="cb43-34"><a href="#cb43-34" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(similarity_counts_before)</span>
<span id="cb43-35"><a href="#cb43-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-36"><a href="#cb43-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert counts to percentages</span></span>
<span id="cb43-37"><a href="#cb43-37" aria-hidden="true" tabindex="-1"></a>total_counts_before <span class="op">=</span> similarity_counts_before.<span class="bu">sum</span>()</span>
<span id="cb43-38"><a href="#cb43-38" aria-hidden="true" tabindex="-1"></a>similarity_percentages_before <span class="op">=</span> (similarity_counts_before <span class="op">/</span> total_counts_before) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb43-39"><a href="#cb43-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-40"><a href="#cb43-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bar chart</span></span>
<span id="cb43-41"><a href="#cb43-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bar chart</span></span>
<span id="cb43-42"><a href="#cb43-42" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb43-43"><a href="#cb43-43" aria-hidden="true" tabindex="-1"></a>similarity_percentages_before.plot(kind<span class="op">=</span><span class="st">&#39;bar&#39;</span>, color<span class="op">=</span><span class="st">&#39;#4495a2&#39;</span>)</span>
<span id="cb43-44"><a href="#cb43-44" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Percentage of Question Pairs by Cosine Similarity Range&#39;</span>)</span>
<span id="cb43-45"><a href="#cb43-45" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Cosine Similarity Ranges&#39;</span>)</span>
<span id="cb43-46"><a href="#cb43-46" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Percentage of Total Pairs (%)&#39;</span>)</span>
<span id="cb43-47"><a href="#cb43-47" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)  <span class="co"># Rotate labels to improve readability</span></span>
<span id="cb43-48"><a href="#cb43-48" aria-hidden="true" tabindex="-1"></a>plt.grid(axis<span class="op">=</span><span class="st">&#39;y&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>, alpha<span class="op">=</span><span class="fl">0.7</span>)  <span class="co"># Add a grid for better reference</span></span>
<span id="cb43-49"><a href="#cb43-49" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Number of question pairs in each similarity range:
Similarity Range
-1 to -0.7         0
-0.7 to -0.5       0
-0.5 to -0.2       4
-0.2 to 0       4732
0 to 0.2        4606
0.2 to 0.5       448
0.5 to 0.7        82
0.7 to 1          28
Name: count, dtype: int64
</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_393b23820fd44101a5486d2450aefd6c/a8d7ff075e7e2573e68e943614df47751d7fcf88.png" /></p>
</div>
</div>
<div class="cell markdown" id="KEFxkWVgmQx8">
<p>Java questions between before and after the launch of ChatGPT</p>
</div>
<div class="cell code" data-execution_count="72"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:1000}"
id="mpnf2YhX0fkL" data-outputId="b47b184c-a81c-4291-ecc2-751530b01a6f">
<div class="sourceCode" id="cb45"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Narrow down the date range to 6 months before and after the intervention</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>before_intervention <span class="op">=</span> java_questions.loc[</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>    (java_questions[<span class="st">&#39;final_date&#39;</span>] <span class="op">&lt;</span> intervention_date) <span class="op">&amp;</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>    (java_questions[<span class="st">&#39;final_date&#39;</span>] <span class="op">&gt;=</span> intervention_date <span class="op">-</span> pd.DateOffset(months<span class="op">=</span><span class="dv">6</span>))</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>].copy()</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>after_intervention <span class="op">=</span> java_questions.loc[</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>    (java_questions[<span class="st">&#39;final_date&#39;</span>] <span class="op">&gt;=</span> intervention_date) <span class="op">&amp;</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>    (java_questions[<span class="st">&#39;final_date&#39;</span>] <span class="op">&lt;=</span> intervention_date <span class="op">+</span> pd.DateOffset(months<span class="op">=</span><span class="dv">6</span>))</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>].copy()</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply sampling if still needed due to large dataset size</span></span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>sample_size <span class="op">=</span> <span class="dv">100</span>  <span class="co"># Adjust sample size based on memory and performance needs</span></span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>before_intervention <span class="op">=</span> before_intervention.sample(n<span class="op">=</span>sample_size, random_state<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>after_intervention <span class="op">=</span> after_intervention.sample(n<span class="op">=</span>sample_size, random_state<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Preprocess text data</span></span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>before_intervention[<span class="st">&#39;cleaned_title&#39;</span>] <span class="op">=</span> before_intervention[<span class="st">&#39;title&#39;</span>].<span class="bu">apply</span>(clean_text)</span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>after_intervention[<span class="st">&#39;cleaned_title&#39;</span>] <span class="op">=</span> after_intervention[<span class="st">&#39;title&#39;</span>].<span class="bu">apply</span>(clean_text)</span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Vectorize text using TF-IDF</span></span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a>vectorizer <span class="op">=</span> TfidfVectorizer(max_features<span class="op">=</span><span class="dv">500</span>)  <span class="co"># Reducing features</span></span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a>tfidf_matrix <span class="op">=</span> vectorizer.fit_transform(before_intervention[<span class="st">&#39;cleaned_title&#39;</span>].tolist() <span class="op">+</span> after_intervention[<span class="st">&#39;cleaned_title&#39;</span>].tolist())</span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Reduce dimensionality further</span></span>
<span id="cb45-25"><a href="#cb45-25" aria-hidden="true" tabindex="-1"></a>svd <span class="op">=</span> TruncatedSVD(n_components<span class="op">=</span><span class="dv">50</span>)  <span class="co"># More aggressive dimensionality reduction</span></span>
<span id="cb45-26"><a href="#cb45-26" aria-hidden="true" tabindex="-1"></a>tfidf_reduced <span class="op">=</span> svd.fit_transform(tfidf_matrix)</span>
<span id="cb45-27"><a href="#cb45-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-28"><a href="#cb45-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Split the reduced TF-IDF matrix</span></span>
<span id="cb45-29"><a href="#cb45-29" aria-hidden="true" tabindex="-1"></a>split_index <span class="op">=</span> <span class="bu">len</span>(before_intervention)</span>
<span id="cb45-30"><a href="#cb45-30" aria-hidden="true" tabindex="-1"></a>before_tfidf <span class="op">=</span> tfidf_reduced[:split_index]</span>
<span id="cb45-31"><a href="#cb45-31" aria-hidden="true" tabindex="-1"></a>after_tfidf <span class="op">=</span> tfidf_reduced[split_index:]</span>
<span id="cb45-32"><a href="#cb45-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-33"><a href="#cb45-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute cosine similarity</span></span>
<span id="cb45-34"><a href="#cb45-34" aria-hidden="true" tabindex="-1"></a>cosine_sim <span class="op">=</span> cosine_similarity(before_tfidf, after_tfidf)</span>
<span id="cb45-35"><a href="#cb45-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-36"><a href="#cb45-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the average cosine similarity</span></span>
<span id="cb45-37"><a href="#cb45-37" aria-hidden="true" tabindex="-1"></a>average_similarity <span class="op">=</span> np.mean(cosine_sim, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb45-38"><a href="#cb45-38" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Average cosine similarity between questions before and after intervention:&quot;</span>, np.mean(average_similarity))</span>
<span id="cb45-39"><a href="#cb45-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-40"><a href="#cb45-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-41"><a href="#cb45-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a DataFrame from the cosine similarity matrix</span></span>
<span id="cb45-42"><a href="#cb45-42" aria-hidden="true" tabindex="-1"></a>titles_before <span class="op">=</span> before_intervention[<span class="st">&#39;title&#39;</span>].tolist()</span>
<span id="cb45-43"><a href="#cb45-43" aria-hidden="true" tabindex="-1"></a>titles_after <span class="op">=</span> after_intervention[<span class="st">&#39;title&#39;</span>].tolist()</span>
<span id="cb45-44"><a href="#cb45-44" aria-hidden="true" tabindex="-1"></a>similarity_df <span class="op">=</span> pd.DataFrame(cosine_sim, index<span class="op">=</span>titles_before, columns<span class="op">=</span>titles_after)</span>
<span id="cb45-45"><a href="#cb45-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-46"><a href="#cb45-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Flatten the DataFrame and reset index to turn it into a long format DataFrame</span></span>
<span id="cb45-47"><a href="#cb45-47" aria-hidden="true" tabindex="-1"></a>similarity_long_df <span class="op">=</span> similarity_df.stack().reset_index()</span>
<span id="cb45-48"><a href="#cb45-48" aria-hidden="true" tabindex="-1"></a>similarity_long_df.columns <span class="op">=</span> [<span class="st">&#39;Question Before&#39;</span>, <span class="st">&#39;Question After&#39;</span>, <span class="st">&#39;Cosine Similarity&#39;</span>]</span>
<span id="cb45-49"><a href="#cb45-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-50"><a href="#cb45-50" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort by cosine similarity for both highest and lowest</span></span>
<span id="cb45-51"><a href="#cb45-51" aria-hidden="true" tabindex="-1"></a>top_similarities <span class="op">=</span> similarity_long_df.sort_values(by<span class="op">=</span><span class="st">&#39;Cosine Similarity&#39;</span>, ascending<span class="op">=</span><span class="va">False</span>).head(<span class="dv">10</span>)</span>
<span id="cb45-52"><a href="#cb45-52" aria-hidden="true" tabindex="-1"></a>lowest_similarities <span class="op">=</span> similarity_long_df.sort_values(by<span class="op">=</span><span class="st">&#39;Cosine Similarity&#39;</span>, ascending<span class="op">=</span><span class="va">True</span>).head(<span class="dv">10</span>)</span>
<span id="cb45-53"><a href="#cb45-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-54"><a href="#cb45-54" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the DataFrames</span></span>
<span id="cb45-55"><a href="#cb45-55" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Top 10 High Similarity Pairs:&quot;</span>)</span>
<span id="cb45-56"><a href="#cb45-56" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(top_similarities)</span>
<span id="cb45-57"><a href="#cb45-57" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">Top 10 Low Similarity Pairs:&quot;</span>)</span>
<span id="cb45-58"><a href="#cb45-58" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(lowest_similarities)</span>
<span id="cb45-59"><a href="#cb45-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-60"><a href="#cb45-60" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the bins for cosine similarity scores</span></span>
<span id="cb45-61"><a href="#cb45-61" aria-hidden="true" tabindex="-1"></a>bins <span class="op">=</span> [<span class="op">-</span><span class="dv">1</span>, <span class="op">-</span><span class="fl">0.7</span>, <span class="op">-</span><span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.2</span>, <span class="dv">0</span>, <span class="fl">0.2</span>, <span class="fl">0.5</span>, <span class="fl">0.7</span>, <span class="dv">1</span>]</span>
<span id="cb45-62"><a href="#cb45-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-63"><a href="#cb45-63" aria-hidden="true" tabindex="-1"></a><span class="co"># Use pd.cut to categorize the similarity scores into bins</span></span>
<span id="cb45-64"><a href="#cb45-64" aria-hidden="true" tabindex="-1"></a>similarity_long_df[<span class="st">&#39;Similarity Range&#39;</span>] <span class="op">=</span> pd.cut(similarity_long_df[<span class="st">&#39;Cosine Similarity&#39;</span>], bins<span class="op">=</span>bins, labels<span class="op">=</span>[<span class="st">&quot;-1 to -0.7&quot;</span>, <span class="st">&quot;-0.7 to -0.5&quot;</span>, <span class="st">&quot;-0.5 to -0.2&quot;</span>, <span class="st">&quot;-0.2 to 0&quot;</span>, <span class="st">&quot;0 to 0.2&quot;</span>, <span class="st">&quot;0.2 to 0.5&quot;</span>, <span class="st">&quot;0.5 to 0.7&quot;</span>, <span class="st">&quot;0.7 to 1&quot;</span>])</span>
<span id="cb45-65"><a href="#cb45-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-66"><a href="#cb45-66" aria-hidden="true" tabindex="-1"></a><span class="co"># Count the number of entries in each bin</span></span>
<span id="cb45-67"><a href="#cb45-67" aria-hidden="true" tabindex="-1"></a>similarity_counts <span class="op">=</span> similarity_long_df[<span class="st">&#39;Similarity Range&#39;</span>].value_counts().sort_index()</span>
<span id="cb45-68"><a href="#cb45-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-69"><a href="#cb45-69" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the counts</span></span>
<span id="cb45-70"><a href="#cb45-70" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Number of question pairs in each similarity range:&quot;</span>)</span>
<span id="cb45-71"><a href="#cb45-71" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(similarity_counts)</span>
<span id="cb45-72"><a href="#cb45-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-73"><a href="#cb45-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert counts to percentages</span></span>
<span id="cb45-74"><a href="#cb45-74" aria-hidden="true" tabindex="-1"></a>total_counts <span class="op">=</span> similarity_counts.<span class="bu">sum</span>()</span>
<span id="cb45-75"><a href="#cb45-75" aria-hidden="true" tabindex="-1"></a>similarity_percentages <span class="op">=</span> (similarity_counts <span class="op">/</span> total_counts) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb45-76"><a href="#cb45-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-77"><a href="#cb45-77" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bar chart</span></span>
<span id="cb45-78"><a href="#cb45-78" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb45-79"><a href="#cb45-79" aria-hidden="true" tabindex="-1"></a>similarity_percentages.plot(kind<span class="op">=</span><span class="st">&#39;bar&#39;</span>, color<span class="op">=</span><span class="st">&#39;#4495a2&#39;</span>)</span>
<span id="cb45-80"><a href="#cb45-80" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Percentage of Question Pairs by Cosine Similarity Range&#39;</span>)</span>
<span id="cb45-81"><a href="#cb45-81" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Cosine Similarity Ranges&#39;</span>)</span>
<span id="cb45-82"><a href="#cb45-82" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Percentage of Total Pairs (%)&#39;</span>)</span>
<span id="cb45-83"><a href="#cb45-83" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)  <span class="co"># Rotate labels to improve readability</span></span>
<span id="cb45-84"><a href="#cb45-84" aria-hidden="true" tabindex="-1"></a>plt.grid(axis<span class="op">=</span><span class="st">&#39;y&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>, alpha<span class="op">=</span><span class="fl">0.7</span>)  <span class="co"># Add a grid for better reference</span></span>
<span id="cb45-85"><a href="#cb45-85" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Average cosine similarity between questions before and after intervention: 0.03092078311052764
Top 10 High Similarity Pairs:
                                        Question Before  \
5232  Retrying webclient post with modification of t...   
3610  Why does my activity calls onCreate if opened ...   
8400                        MyBatis query in a for loop   
3807             Spring Boot : Disable Quartz Scheduler   
1212                AES Encryption From Java to Node.js   
9521  How to load resources from classpath matching ...   
5125                            Updating a child entity   
1919  Java - Calculating durations with a factorized...   
6811  why does maven don&amp;#39;t download jar files fo...   
3169  Angular excel file upload throws NotOfficeXmlF...   

                                         Question After  Cosine Similarity  
5232        POST request works, DELETE request does not           0.996497  
3610   Changing the picture when calling a new activity           0.969164  
8400  jOOQ Multiset Operator returns nested JsonArra...           0.956446  
3807  Spring Boot 3.0.0 + Spring Cloud 2021.0.5 No F...           0.933234  
1212                       Graalvm not detecting nodejs           0.926110  
9521            How to mock a MutinyEmitter in Quarkus?           0.921853  
5125  Using second field for same column in entity f...           0.906426  
1919  Can someone help me creating Java code that ch...           0.884652  
6811  Generating changeset and adding it to JAR with...           0.881330  
3169  Removing audio from MP4 file causes corrupted ...           0.863561  

Top 10 Low Similarity Pairs:
                                        Question Before  \
7734  Why is logback.encoder StructuredArguments not...   
5004  How can I update the icon of a given JLabel du...   
5604  Migration from SQLCipher V1 to Room DB V2 on A...   
4845  Testing CompletableFuture.supplyAsync with Moc...   
918        JaxRS validate java.lang.Long as @QueryParam   
7761  Why is logback.encoder StructuredArguments not...   
8345  Some problems were encountered while processin...   
910        JaxRS validate java.lang.Long as @QueryParam   
4894  Testing CompletableFuture.supplyAsync with Moc...   
5313  Cucumber steps is not shown at allure report a...   

                                         Question After  Cosine Similarity  
7734  Why JobRunr jobs are showing with a status SUC...          -0.591620  
5004  maven-failsafe-plugin not honoring fixed paral...          -0.573523  
5604  maven-failsafe-plugin not honoring fixed paral...          -0.527058  
4845  JTextField loses focus everytime JPopupMenu is...          -0.524639  
918   type Queue does not take parameters Queue&amp;lt;I...          -0.476544  
7761  The server selected protocol version TLS10 is ...          -0.468975  
8345  JTextField loses focus everytime JPopupMenu is...          -0.449061  
910    Changing the picture when calling a new activity          -0.398809  
4894          Deferred, rate limited Runnable execution          -0.397933  
5313      How to optimize ThreeSum (LeetCode) solution?          -0.389311  
Number of question pairs in each similarity range:
Similarity Range
-1 to -0.7         0
-0.7 to -0.5       4
-0.5 to -0.2      89
-0.2 to 0       4669
0 to 0.2        4462
0.2 to 0.5       633
0.5 to 0.7        98
0.7 to 1          45
Name: count, dtype: int64
</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_393b23820fd44101a5486d2450aefd6c/f3f230f4ca83964395ddb0c4e6cd40fd2b533ece.png" /></p>
</div>
</div>
<div class="cell markdown" id="ydI0ntWxmVv0">
<p>Java questions among before the launch of ChatGPT</p>
</div>
<div class="cell code" data-execution_count="73"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:805}"
id="erQCfD-V0v7L" data-outputId="4af93e2e-9fbc-42d3-bd2c-02d510880f0e">
<div class="sourceCode" id="cb47"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vectorize text using TF-IDF</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>vectorizer_before <span class="op">=</span> TfidfVectorizer(max_features<span class="op">=</span><span class="dv">500</span>)</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>before_tfidf <span class="op">=</span> vectorizer_before.fit_transform(before_intervention[<span class="st">&#39;cleaned_title&#39;</span>])</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply SVD to reduce dimensionality</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>svd <span class="op">=</span> TruncatedSVD(n_components<span class="op">=</span><span class="dv">50</span>)</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>before_tfidf_reduced <span class="op">=</span> svd.fit_transform(before_tfidf)</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute cosine similarity within the &#39;before&#39; questions using the reduced data</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>cosine_sim_before <span class="op">=</span> cosine_similarity(before_tfidf_reduced)</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Since the similarity of a question with itself is not useful, we set the diagonal to NaN</span></span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>np.fill_diagonal(cosine_sim_before, np.nan)</span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Flatten the matrix and remove NaN values</span></span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>similarity_values_before <span class="op">=</span> cosine_sim_before.flatten()</span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>similarity_values_before <span class="op">=</span> similarity_values_before[<span class="op">~</span>np.isnan(similarity_values_before)]</span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a DataFrame from the flattened similarity values</span></span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>similarity_df_before <span class="op">=</span> pd.DataFrame(similarity_values_before, columns<span class="op">=</span>[<span class="st">&#39;Cosine Similarity&#39;</span>])</span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-22"><a href="#cb47-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the bins and labels</span></span>
<span id="cb47-23"><a href="#cb47-23" aria-hidden="true" tabindex="-1"></a>bins <span class="op">=</span> [<span class="op">-</span><span class="dv">1</span>, <span class="op">-</span><span class="fl">0.7</span>, <span class="op">-</span><span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.2</span>, <span class="dv">0</span>, <span class="fl">0.2</span>, <span class="fl">0.5</span>, <span class="fl">0.7</span>, <span class="dv">1</span>]</span>
<span id="cb47-24"><a href="#cb47-24" aria-hidden="true" tabindex="-1"></a>labels <span class="op">=</span> [<span class="st">&quot;-1 to -0.7&quot;</span>, <span class="st">&quot;-0.7 to -0.5&quot;</span>, <span class="st">&quot;-0.5 to -0.2&quot;</span>, <span class="st">&quot;-0.2 to 0&quot;</span>, <span class="st">&quot;0 to 0.2&quot;</span>, <span class="st">&quot;0.2 to 0.5&quot;</span>, <span class="st">&quot;0.5 to 0.7&quot;</span>, <span class="st">&quot;0.7 to 1&quot;</span>]</span>
<span id="cb47-25"><a href="#cb47-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-26"><a href="#cb47-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Bin the data</span></span>
<span id="cb47-27"><a href="#cb47-27" aria-hidden="true" tabindex="-1"></a>similarity_df_before[<span class="st">&#39;Similarity Range&#39;</span>] <span class="op">=</span> pd.cut(similarity_df_before[<span class="st">&#39;Cosine Similarity&#39;</span>], bins<span class="op">=</span>bins, labels<span class="op">=</span>labels)</span>
<span id="cb47-28"><a href="#cb47-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-29"><a href="#cb47-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Count the number of entries in each bin</span></span>
<span id="cb47-30"><a href="#cb47-30" aria-hidden="true" tabindex="-1"></a>similarity_counts_before <span class="op">=</span> similarity_df_before[<span class="st">&#39;Similarity Range&#39;</span>].value_counts().sort_index()</span>
<span id="cb47-31"><a href="#cb47-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-32"><a href="#cb47-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the counts</span></span>
<span id="cb47-33"><a href="#cb47-33" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Number of question pairs in each similarity range:&quot;</span>)</span>
<span id="cb47-34"><a href="#cb47-34" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(similarity_counts_before)</span>
<span id="cb47-35"><a href="#cb47-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-36"><a href="#cb47-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert counts to percentages</span></span>
<span id="cb47-37"><a href="#cb47-37" aria-hidden="true" tabindex="-1"></a>total_counts_before <span class="op">=</span> similarity_counts_before.<span class="bu">sum</span>()</span>
<span id="cb47-38"><a href="#cb47-38" aria-hidden="true" tabindex="-1"></a>similarity_percentages_before <span class="op">=</span> (similarity_counts_before <span class="op">/</span> total_counts_before) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb47-39"><a href="#cb47-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-40"><a href="#cb47-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bar chart</span></span>
<span id="cb47-41"><a href="#cb47-41" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb47-42"><a href="#cb47-42" aria-hidden="true" tabindex="-1"></a>similarity_percentages_before.plot(kind<span class="op">=</span><span class="st">&#39;bar&#39;</span>, color<span class="op">=</span><span class="st">&#39;#4495a2&#39;</span>)</span>
<span id="cb47-43"><a href="#cb47-43" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Percentage of Question Pairs by Cosine Similarity Range&#39;</span>)</span>
<span id="cb47-44"><a href="#cb47-44" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Cosine Similarity Ranges&#39;</span>)</span>
<span id="cb47-45"><a href="#cb47-45" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Percentage of Total Pairs (%)&#39;</span>)</span>
<span id="cb47-46"><a href="#cb47-46" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)  <span class="co"># Rotate labels to improve readability</span></span>
<span id="cb47-47"><a href="#cb47-47" aria-hidden="true" tabindex="-1"></a>plt.grid(axis<span class="op">=</span><span class="st">&#39;y&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;--&#39;</span>, alpha<span class="op">=</span><span class="fl">0.7</span>)  <span class="co"># Add a grid for better reference</span></span>
<span id="cb47-48"><a href="#cb47-48" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Number of question pairs in each similarity range:
Similarity Range
-1 to -0.7         0
-0.7 to -0.5       0
-0.5 to -0.2      20
-0.2 to 0       4758
0 to 0.2        4546
0.2 to 0.5       468
0.5 to 0.7        88
0.7 to 1          20
Name: count, dtype: int64
</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_393b23820fd44101a5486d2450aefd6c/e2b004fce71c70c5aa29819e7ab7f6abcccc8f67.png" /></p>
</div>
</div>
</body>
</html>
